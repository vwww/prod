(()=>{"use strict";var e,t={384:(e,t,n)=>{var o,r,s=n(0),c=n(39),l=n(40),i=n(41),a=n(42),d=n(43),u=n(348),g=n(28),f=n(44),m=n(46),p=n(6);function $(e,t){return v(e,t?T:y)}function h(e,t){return v(e,t?G:R,x)}function b(e){for(let t=0;t<18;t+=2)if(!(e&3<<t))return!1;return!0}function v(e,t,n=t){return t.some(((t,o)=>t===(e&n[o])))}!function(e){e[e.None=0]="None",e[e.P1=1]="P1",e[e.P2=2]="P2"}(o||(o={})),function(e){e[e.None=0]="None",e[e.P1=1]="P1",e[e.P2=2]="P2",e[e.Tie=3]="Tie"}(r||(r={}));const y=[86016,1344,21,66576,16644,4161,65793,4368],T=[172032,2688,42,133152,33288,8322,131586,8736],x=[258048,258048,258048,4032,4032,4032,63,63,63,199728,199728,199728,49932,49932,49932,12483,12483,12483,197379,197379,197379,13104,13104,13104],R=[20480,69632,81920,320,1088,1280,5,17,20,1040,65552,66560,260,16388,16640,65,4097,4160,257,65537,65792,272,4112,4352],G=[40960,139264,163840,640,2176,2560,10,34,40,2080,131104,133120,520,32776,33280,130,8194,8320,514,131074,131584,544,8224,8704];var w=n(451),k=n(172),I=n(349);const L={board:0,boards:[0,0,0,0,0,0,0,0,0],boardRestrict:[0,0,0,0,0,0,0,0,0],boardFinal:0,boardMustMove:-1};class C extends I.Du{constructor(){super(...arguments),this.modeTurnTime=(0,p.$_)(0),this.modeInverted=(0,p.$_)(!1),this.modeChecked=(0,p.$_)(!1),this.modeQuick=(0,p.$_)(!1),this.boardStates=(0,p.$_)([L]),this.boardIndex=(0,p.$_)(0),this.moveHistory=(0,p.$_)([]),this.playersSortProps=[e=>e.streak,e=>e.score,e=>e.wins]}sendMove(e,t){var n;this.boardIndex.get()===this.ply.get()&&(null===(n=this.room)||void 0===n||n.send((new w.T).putInt(k.Zt.MOVE).putInt(e).putInt(t).toArray()))}historyGo(e){this.boardIndex.set((0,m.uZ)(e,0,this.moveHistory.get().length))}processMoveConfirm(e){e.getInt(),e.getInt()}processRoundInfo(e){this.reset();for(let t=0;t<=81;t++){const n=e.getInt();if(n<0){this.ply.set(t);break}const o=e.getInt();this.applyMove(n,o)}}processRoundStartInfo(e){this.reset()}processEndTurn2(e){const t=e.getInt(),n=e.getInt();this.applyMove(t,n)}processWelcomeMode(e){this.modeTurnTime.set(e.getInt()),this.modeInverted.set(e.getBool()),this.modeChecked.set(e.getBool()),this.modeQuick.set(e.getBool())}makePlayer(){return Object.assign({},I.Du.DEFAULT_PLAYER)}reset(){this.boardStates.set([L]),this.boardIndex.set(0),this.moveHistory.set([])}applyMove(e,t){const n=this.boardStates.get(),o=this.moveHistory.get(),r=n[n.length-1],s=1&n.length,c=1^s;let{board:l,boardFinal:i}=r;const a=r.boards.slice(0),d=1<<(t<<1)+c,u=1<<t,g=1<<(e<<1)+c,f=1<<e;a[e]|=d,$(a[e],!!c)?(l|=g,i|=f):b(a[e])&&(i|=f);const m=i&u?-1:t,p=(e,t)=>{if(this.modeChecked.get()){const n=1<<(t<<1)+s;if(this.modeInverted.get()){if($(a[e]|n,!c)&&(this.modeQuick.get()||$(l|n,!c)))return!0}else{const o=a[t]|(e===t?n:0);if(!this.modeQuick.get()&&(i&1<<t||b(o)||$(o,!c))){for(let t=0;t<9;t++)if(!(i&1<<t)&&h(a[t]|(t===e?n:0),!s)&&$(l|1<<(t<<1)+c,!s))return!0}else if(h(o,!s)&&(this.modeQuick.get()||$(l|1<<(t<<1)+c,!s)))return!0}}return!1};n.push({board:l,boards:a,boardFinal:i,boardMustMove:m,boardRestrict:[0,1,2,3,4,5,6,7,8].map((e=>{if(!(m<0||e===m))return 511;let t=0;for(let n=0;n<9;n++)p(e,n)&&(t|=1<<n);return t}))}),o.push([e,t]),this.boardStates.set(n),this.moveHistory.set(o),this.boardIndex.update((e=>e===n.length-2?e+1:e))}}var j=n(47),M=n(347),D=n(350);function S(e,t,n){const o=e.slice();return o[5]=t[n],o}function F(e,t,n){const o=e.slice();return o[8]=t[n],o}function H(e,t,n){const o=e.slice();return o[5]=t[n],o}function O(e,t,n){const o=e.slice();return o[13]=t[n],o}function Z(e){let t,n,o,r;function c(){return e[4](e[8],e[13])}return{c(){t=(0,s.bG)("td"),(0,s.Lj)(t,"class",n=(0,s.Gu)(`innerCell p${Q(e[0].boards[e[8]],e[13],!(e[0].boardRestrict[e[8]]>>e[13]&1))}`)+" svelte-18ccxy6"),(0,s.VH)(t,"canMove",e[1])},m(e,n){(0,s.$T)(e,t,n),o||(r=(0,s.oL)(t,"click",c),o=!0)},p(o,r){e=o,1&r&&n!==(n=(0,s.Gu)(`innerCell p${Q(e[0].boards[e[8]],e[13],!(e[0].boardRestrict[e[8]]>>e[13]&1))}`)+" svelte-18ccxy6")&&(0,s.Lj)(t,"class",n),3&r&&(0,s.VH)(t,"canMove",e[1])},d(e){e&&(0,s.og)(t),o=!1,r()}}}function U(e){let t,n=e[5],o=[];for(let t=0;t<n.length;t+=1)o[t]=Z(O(e,n,t));return{c(){t=(0,s.bG)("tr");for(let e=0;e<o.length;e+=1)o[e].c()},m(e,n){(0,s.$T)(e,t,n);for(let e=0;e<o.length;e+=1)o[e].m(t,null)},p(e,r){if(15&r){let s;for(n=e[5],s=0;s<n.length;s+=1){const c=O(e,n,s);o[s]?o[s].p(c,r):(o[s]=Z(c),o[s].c(),o[s].m(t,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){e&&(0,s.og)(t),(0,s.RM)(o,e)}}}function P(e){let t,n,o,r=e[3],c=[];for(let t=0;t<r.length;t+=1)c[t]=U(H(e,r,t));return{c(){t=(0,s.bG)("td"),n=(0,s.bG)("table");for(let e=0;e<c.length;e+=1)c[e].c();(0,s.Lj)(n,"class",o=(0,s.Gu)(`innerGrid p${Q(e[0].board,e[8],e[0].boardMustMove<0||e[0].boardMustMove===e[8])}`)+" svelte-18ccxy6")},m(e,o){(0,s.$T)(e,t,o),(0,s.R3)(t,n);for(let e=0;e<c.length;e+=1)c[e].m(n,null)},p(e,t){if(15&t){let o;for(r=e[3],o=0;o<r.length;o+=1){const s=H(e,r,o);c[o]?c[o].p(s,t):(c[o]=U(s),c[o].c(),c[o].m(n,null))}for(;o<c.length;o+=1)c[o].d(1);c.length=r.length}1&t&&o!==(o=(0,s.Gu)(`innerGrid p${Q(e[0].board,e[8],e[0].boardMustMove<0||e[0].boardMustMove===e[8])}`)+" svelte-18ccxy6")&&(0,s.Lj)(n,"class",o)},d(e){e&&(0,s.og)(t),(0,s.RM)(c,e)}}}function Y(e){let t,n,o=e[5],r=[];for(let t=0;t<o.length;t+=1)r[t]=P(F(e,o,t));return{c(){t=(0,s.bG)("tr");for(let e=0;e<r.length;e+=1)r[e].c();n=(0,s.Dh)()},m(e,o){(0,s.$T)(e,t,o);for(let e=0;e<r.length;e+=1)r[e].m(t,null);(0,s.R3)(t,n)},p(e,s){if(15&s){let c;for(o=e[5],c=0;c<o.length;c+=1){const l=F(e,o,c);r[c]?r[c].p(l,s):(r[c]=P(l),r[c].c(),r[c].m(t,n))}for(;c<r.length;c+=1)r[c].d(1);r.length=o.length}},d(e){e&&(0,s.og)(t),(0,s.RM)(r,e)}}}function N(e){let t,n,o=e[3],r=[];for(let t=0;t<o.length;t+=1)r[t]=Y(S(e,o,t));return{c(){t=(0,s.bG)("table");for(let e=0;e<r.length;e+=1)r[e].c();(0,s.Lj)(t,"class",n=(0,s.Gu)(`outerGrid m${e[1]}`)+" svelte-18ccxy6")},m(e,n){(0,s.$T)(e,t,n);for(let e=0;e<r.length;e+=1)r[e].m(t,null)},p(e,[c]){if(15&c){let n;for(o=e[3],n=0;n<o.length;n+=1){const s=S(e,o,n);r[n]?r[n].p(s,c):(r[n]=Y(s),r[n].c(),r[n].m(t,null))}for(;n<r.length;n+=1)r[n].d(1);r.length=o.length}2&c&&n!==(n=(0,s.Gu)(`outerGrid m${e[1]}`)+" svelte-18ccxy6")&&(0,s.Lj)(t,"class",n)},i:s.ZT,o:s.ZT,d(e){e&&(0,s.og)(t),(0,s.RM)(r,e)}}}function Q(e,t,n){return e>>(t<<1)&3||(n?3:0)}function V(e,t,n){let{boardState:o}=t,{markHover:r}=t,{onMove:s}=t;return e.$$set=e=>{"boardState"in e&&n(0,o=e.boardState),"markHover"in e&&n(1,r=e.markHover),"onMove"in e&&n(2,s=e.onMove)},[o,r,s,[[0,1,2],[3,4,5],[6,7,8]],(e,t)=>s(e,t)]}class _ extends s.f_{constructor(e){var t;super(),document.getElementById("svelte-18ccxy6-style")||((t=(0,s.bG)("style")).id="svelte-18ccxy6-style",t.textContent=".outerGrid.svelte-18ccxy6.svelte-18ccxy6{margin:auto}.innerGrid.svelte-18ccxy6.svelte-18ccxy6{margin:1vmin;border-collapse:separate;border-spacing:.6vmin;background-color:#a9a9a9}.innerGrid.p1.svelte-18ccxy6.svelte-18ccxy6{background-color:#008000 }.innerGrid.p2.svelte-18ccxy6.svelte-18ccxy6{background-color:#ffa07a }.innerGrid.p3.svelte-18ccxy6.svelte-18ccxy6{background-color:#add8e6 }.innerCell.svelte-18ccxy6.svelte-18ccxy6{width:6vmin;height:6vmin;opacity:0.6}.innerCell.p0.svelte-18ccxy6.svelte-18ccxy6{background-color:#696969 }.innerCell.p1.svelte-18ccxy6.svelte-18ccxy6{background-color:#9acd32;opacity:1}.innerCell.p2.svelte-18ccxy6.svelte-18ccxy6{background-color:#ff7f50;opacity:1}.innerCell.p3.svelte-18ccxy6.svelte-18ccxy6{background-color:#98afc7 }.innerCell.canMove.p0.svelte-18ccxy6.svelte-18ccxy6{cursor:not-allowed }.innerCell.canMove.p3.svelte-18ccxy6.svelte-18ccxy6{cursor:pointer }.m1.svelte-18ccxy6 .innerCell.p3.svelte-18ccxy6:hover{background-color:#9acd32 }.m2.svelte-18ccxy6 .innerCell.p3.svelte-18ccxy6:hover{background-color:#ff7f50 }",(0,s.R3)(document.head,t)),(0,s.S1)(this,e,V,N,s.N8,{boardState:0,markHover:1,onMove:2})}}const A=_,E=[["optTurnTime","i",15e3,"Turn Time / ms","duration of each turn, in milliseconds",5e3,6e4],["optInverted","b",!1,"Inverted","switch winning and losing"],["optChecked","b",!1,"Checked","disallow obviously bad moves"],["optQuick","b",!1,"Quick","capture one small board to win"]];function B(e,t,n,o){return`${e?"inverted ":""}${t?"checked ":""}${n?"quick ":""}${e||t||n?"":"standard "}${o}ms`}function W(e,t,n){const o=e.slice();return o[50]=t[n],o[52]=n,o}function z(e){let t,n,o;function r(e,t){return 1===e[2]?ee:e[5]?K:e[3]?X:q}let c=r(e),l=c(e);return n=new j.Z({props:{startTime:e[7],endTime:e[8]}}),{c(){l.c(),t=(0,s.Dh)(),(0,s.YC)(n.$$.fragment)},m(e,r){l.m(e,r),(0,s.$T)(e,t,r),(0,s.ye)(n,e,r),o=!0},p(e,o){c!==(c=r(e))&&(l.d(1),l=c(e),l&&(l.c(),l.m(t.parentNode,t)));const s={};128&o[0]&&(s.startTime=e[7]),256&o[0]&&(s.endTime=e[8]),n.$set(s)},i(e){o||((0,s.Ui)(n.$$.fragment,e),o=!0)},o(e){(0,s.et)(n.$$.fragment,e),o=!1},d(e){l.d(e),e&&(0,s.og)(t),(0,s.vp)(n,e)}}}function J(e){let t;return{c(){t=(0,s.fL)("Waiting for players…")},m(e,n){(0,s.$T)(e,t,n)},p:s.ZT,i:s.ZT,o:s.ZT,d(e){e&&(0,s.og)(t)}}}function q(e){let t;return{c(){t=(0,s.fL)("Spectating:")},m(e,n){(0,s.$T)(e,t,n)},d(e){e&&(0,s.og)(t)}}}function X(e){let t;return{c(){t=(0,s.fL)("Waiting for opponent to move…")},m(e,n){(0,s.$T)(e,t,n)},d(e){e&&(0,s.og)(t)}}}function K(e){let t;return{c(){t=(0,s.fL)("Make a move:")},m(e,n){(0,s.$T)(e,t,n)},d(e){e&&(0,s.og)(t)}}}function ee(e){let t;return{c(){t=(0,s.fL)("Intermission:")},m(e,n){(0,s.$T)(e,t,n)},d(e){e&&(0,s.og)(t)}}}function te(e){let t,n;return{c(){t=(0,s.bG)("span"),t.textContent="player O",n=(0,s.fL)("."),(0,s.Lj)(t,"class","badge bg-danger")},m(e,o){(0,s.$T)(e,t,o),(0,s.$T)(e,n,o)},d(e){e&&(0,s.og)(t),e&&(0,s.og)(n)}}}function ne(e){let t,n;return{c(){t=(0,s.bG)("span"),t.textContent="player X",n=(0,s.fL)("."),(0,s.Lj)(t,"class","badge bg-success")},m(e,o){(0,s.$T)(e,t,o),(0,s.$T)(e,n,o)},d(e){e&&(0,s.og)(t),e&&(0,s.og)(n)}}}function oe(e){let t,n;return{c(){t=(0,s.bG)("span"),t.textContent="spectating",n=(0,s.fL)("."),(0,s.Lj)(t,"class","badge bg-secondary")},m(e,o){(0,s.$T)(e,t,o),(0,s.$T)(e,n,o)},d(e){e&&(0,s.og)(t),e&&(0,s.og)(n)}}}function re(e){let t,n,o=e[11].length+"";return{c(){t=(0,s.fL)("/"),n=(0,s.fL)(o)},m(e,o){(0,s.$T)(e,t,o),(0,s.$T)(e,n,o)},p(e,t){2048&t[0]&&o!==(o=e[11].length+"")&&(0,s.rT)(n,o)},d(e){e&&(0,s.og)(t),e&&(0,s.og)(n)}}}function se(e){let t;return{c(){t=(0,s.fL)("(none)")},m(e,n){(0,s.$T)(e,t,n)},d(e){e&&(0,s.og)(t)}}}function ce(e){let t,n,o,r,c,l=e[50].join("")+"";function i(){return e[45](e[52])}return{c(){t=(0,s.bG)("span"),n=(0,s.fL)(l),(0,s.Lj)(t,"class",o=`badge bg-${e[4]<=e[52]?"warning":1&e[52]?"danger":"success"} me-1`)},m(e,o){(0,s.$T)(e,t,o),(0,s.R3)(t,n),r||(c=(0,s.oL)(t,"click",i),r=!0)},p(r,c){e=r,2048&c[0]&&l!==(l=e[50].join("")+"")&&(0,s.rT)(n,l),16&c[0]&&o!==(o=`badge bg-${e[4]<=e[52]?"warning":1&e[52]?"danger":"success"} me-1`)&&(0,s.Lj)(t,"class",o)},d(e){e&&(0,s.og)(t),r=!1,c()}}}function le(e){let t,n,o,r=e[5]&&ie(e);return n=new D.Z({props:{drawOffer:e[12],onResign:e[47],onDrawOffer:e[48],onDrawReject:e[49]}}),{c(){r&&r.c(),t=(0,s.Dh)(),(0,s.YC)(n.$$.fragment)},m(e,c){r&&r.m(e,c),(0,s.$T)(e,t,c),(0,s.ye)(n,e,c),o=!0},p(e,o){e[5]?r?r.p(e,o):(r=ie(e),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null);const s={};4096&o[0]&&(s.drawOffer=e[12]),1&o[0]&&(s.onResign=e[47]),1&o[0]&&(s.onDrawOffer=e[48]),1&o[0]&&(s.onDrawReject=e[49]),n.$set(s)},i(e){o||((0,s.Ui)(n.$$.fragment,e),o=!0)},o(e){(0,s.et)(n.$$.fragment,e),o=!1},d(e){r&&r.d(e),e&&(0,s.og)(t),(0,s.vp)(n,e)}}}function ie(e){let t,n,o;return{c(){t=(0,s.bG)("button"),t.textContent="End Turn (Auto Random)",(0,s.Lj)(t,"class","btn btn-outline-secondary d-block w-100 my-2")},m(r,c){(0,s.$T)(r,t,c),n||(o=(0,s.oL)(t,"click",e[46]),n=!0)},p:s.ZT,d(e){e&&(0,s.og)(t),n=!1,o()}}}function ae(e){let t,n,o,r,c,l,i,a,d,u,g,f,m,p,$,h,b,v,y,T,x,R,G,w,k,I,L,C,j,D,S,F,H,O,Z,U,P,Y,N=B(e[13],e[14],e[15],e[16])+"";const Q=[J,z],V=[];function _(e,t){return e[2]?1:0}function E(e,t){return e[9]?1===e[9]?ne:te:oe}t=_(e),n=V[t]=Q[t](e);let q=E(e),X=q(e);i=new A({props:{winner:e[10],boardState:e[6],markHover:e[5]&&e[4]===e[11].length?e[9]:0,onMove:e[40]}});let K=e[4]<e[11].length&&re(e),ee=e[11],ie=[];for(let t=0;t<ee.length;t+=1)ie[t]=ce(W(e,ee,t));let ae=null;ee.length||(ae=se());let de=e[1]&&le(e);return Z=new M.Z({props:{inGame:e[17],inQueue:e[18]}}),{c(){n.c(),o=(0,s.Dh)(),r=(0,s.bG)("p"),c=(0,s.fL)("You are\n  "),X.c(),l=(0,s.Dh)(),(0,s.YC)(i.$$.fragment),a=(0,s.Dh)(),d=(0,s.bG)("div"),u=(0,s.bG)("div"),g=(0,s.bG)("div"),f=(0,s.fL)("Ply "),m=(0,s.fL)(e[4]),K&&K.c(),$=(0,s.Dh)(),h=(0,s.bG)("div"),b=(0,s.bG)("span"),b.textContent="Navigate",v=(0,s.Dh)(),y=(0,s.bG)("button"),y.textContent="«",T=(0,s.Dh)(),x=(0,s.bG)("button"),x.textContent="‹",R=(0,s.Dh)(),G=(0,s.bG)("button"),G.textContent="›",w=(0,s.Dh)(),k=(0,s.bG)("button"),k.textContent="»",I=(0,s.fL)("\n\n  Moves:\n  ");for(let e=0;e<ie.length;e+=1)ie[e].c();ae&&ae.c(),L=(0,s.Dh)(),de&&de.c(),C=(0,s.Dh)(),j=(0,s.bG)("div"),D=(0,s.fL)("Game Mode: "),S=(0,s.fL)(N),F=(0,s.Dh)(),H=(0,s.bG)("b"),H.textContent="Lobby",O=(0,s.Dh)(),(0,s.YC)(Z.$$.fragment),(0,s.Lj)(g,"class",p="progress-bar progress-bar-striped "+(e[5]?e[4]<e[11].length?"bg-warning":"bg-success":"")),(0,s.cz)(g,"width",(e[4]+1)/(e[11].length+1)*100+"%"),(0,s.Lj)(u,"class","progress mb-2"),(0,s.Lj)(b,"class","input-group-text"),(0,s.Lj)(y,"class","w-100 btn btn-secondary"),(0,s.VH)(y,"disabled",!e[4]),(0,s.Lj)(x,"class","w-100 btn btn-secondary"),(0,s.VH)(x,"disabled",!e[4]),(0,s.Lj)(G,"class","w-100 btn btn-secondary"),(0,s.VH)(G,"disabled",e[4]>=e[11].length),(0,s.Lj)(k,"class","w-100 btn btn-secondary"),(0,s.VH)(k,"disabled",e[4]>=e[11].length),(0,s.Lj)(h,"class","btn-group d-flex mb-3"),(0,s.Lj)(h,"role","group")},m(n,p){V[t].m(n,p),(0,s.$T)(n,o,p),(0,s.$T)(n,r,p),(0,s.R3)(r,c),X.m(r,null),(0,s.$T)(n,l,p),(0,s.ye)(i,n,p),(0,s.$T)(n,a,p),(0,s.$T)(n,d,p),(0,s.R3)(d,u),(0,s.R3)(u,g),(0,s.R3)(g,f),(0,s.R3)(g,m),K&&K.m(g,null),(0,s.R3)(d,$),(0,s.R3)(d,h),(0,s.R3)(h,b),(0,s.R3)(h,v),(0,s.R3)(h,y),(0,s.R3)(h,T),(0,s.R3)(h,x),(0,s.R3)(h,R),(0,s.R3)(h,G),(0,s.R3)(h,w),(0,s.R3)(h,k),(0,s.R3)(d,I);for(let e=0;e<ie.length;e+=1)ie[e].m(d,null);ae&&ae.m(d,null),(0,s.$T)(n,L,p),de&&de.m(n,p),(0,s.$T)(n,C,p),(0,s.$T)(n,j,p),(0,s.R3)(j,D),(0,s.R3)(j,S),(0,s.$T)(n,F,p),(0,s.$T)(n,H,p),(0,s.$T)(n,O,p),(0,s.ye)(Z,n,p),U=!0,P||(Y=[(0,s.oL)(y,"click",e[41]),(0,s.oL)(x,"click",e[42]),(0,s.oL)(G,"click",e[43]),(0,s.oL)(k,"click",e[44])],P=!0)},p(e,c){let l=t;t=_(e),t===l?V[t].p(e,c):((0,s.dv)(),(0,s.et)(V[l],1,1,(()=>{V[l]=null})),(0,s.gb)(),n=V[t],n?n.p(e,c):(n=V[t]=Q[t](e),n.c()),(0,s.Ui)(n,1),n.m(o.parentNode,o)),q!==(q=E(e))&&(X.d(1),X=q(e),X&&(X.c(),X.m(r,null)));const a={};if(1024&c[0]&&(a.winner=e[10]),64&c[0]&&(a.boardState=e[6]),2608&c[0]&&(a.markHover=e[5]&&e[4]===e[11].length?e[9]:0),1&c[0]&&(a.onMove=e[40]),i.$set(a),(!U||16&c[0])&&(0,s.rT)(m,e[4]),e[4]<e[11].length?K?K.p(e,c):(K=re(e),K.c(),K.m(g,null)):K&&(K.d(1),K=null),(!U||2096&c[0]&&p!==(p="progress-bar progress-bar-striped "+(e[5]?e[4]<e[11].length?"bg-warning":"bg-success":"")))&&(0,s.Lj)(g,"class",p),(!U||2064&c[0])&&(0,s.cz)(g,"width",(e[4]+1)/(e[11].length+1)*100+"%"),16&c[0]&&(0,s.VH)(y,"disabled",!e[4]),16&c[0]&&(0,s.VH)(x,"disabled",!e[4]),2064&c[0]&&(0,s.VH)(G,"disabled",e[4]>=e[11].length),2064&c[0]&&(0,s.VH)(k,"disabled",e[4]>=e[11].length),2065&c[0]){let t;for(ee=e[11],t=0;t<ee.length;t+=1){const n=W(e,ee,t);ie[t]?ie[t].p(n,c):(ie[t]=ce(n),ie[t].c(),ie[t].m(d,null))}for(;t<ie.length;t+=1)ie[t].d(1);ie.length=ee.length,ee.length?ae&&(ae.d(1),ae=null):ae||(ae=se(),ae.c(),ae.m(d,null))}e[1]?de?(de.p(e,c),2&c[0]&&(0,s.Ui)(de,1)):(de=le(e),de.c(),(0,s.Ui)(de,1),de.m(C.parentNode,C)):de&&((0,s.dv)(),(0,s.et)(de,1,1,(()=>{de=null})),(0,s.gb)()),(!U||122880&c[0])&&N!==(N=B(e[13],e[14],e[15],e[16])+"")&&(0,s.rT)(S,N);const u={};131072&c[0]&&(u.inGame=e[17]),262144&c[0]&&(u.inQueue=e[18]),Z.$set(u)},i(e){U||((0,s.Ui)(n),(0,s.Ui)(i.$$.fragment,e),(0,s.Ui)(de),(0,s.Ui)(Z.$$.fragment,e),U=!0)},o(e){(0,s.et)(n),(0,s.et)(i.$$.fragment,e),(0,s.et)(de),(0,s.et)(Z.$$.fragment,e),U=!1},d(e){V[t].d(e),e&&(0,s.og)(o),e&&(0,s.og)(r),X.d(),e&&(0,s.og)(l),(0,s.vp)(i,e),e&&(0,s.og)(a),e&&(0,s.og)(d),K&&K.d(),(0,s.RM)(ie,e),ae&&ae.d(),e&&(0,s.og)(L),de&&de.d(e),e&&(0,s.og)(C),e&&(0,s.og)(j),e&&(0,s.og)(F),e&&(0,s.og)(H),e&&(0,s.og)(O),(0,s.vp)(Z,e),P=!1,(0,s.j7)(Y)}}}function de(e,t,n){let o,r,c,l,i,a,d,u,g,f,m,p,$,h,b,v,y,T,x,R,G,{gameState:w}=t;const{isActive:k,inRound:I,roundState:L,roundTimerStart:C,roundTimerEnd:j,roundPlayers:M,roundPlayerQueue:D,myTurn:S,myPlayer:F,drawOffer:H,boardStates:O,boardIndex:Z,winner:U,moveHistory:P,modeTurnTime:Y,modeInverted:N,modeChecked:Q,modeQuick:V}=w;return(0,s.FI)(e,k,(e=>n(37,l=e))),(0,s.FI)(e,I,(e=>n(3,a=e))),(0,s.FI)(e,L,(e=>n(2,i=e))),(0,s.FI)(e,C,(e=>n(7,f=e))),(0,s.FI)(e,j,(e=>n(8,m=e))),(0,s.FI)(e,M,(e=>n(17,R=e))),(0,s.FI)(e,D,(e=>n(18,G=e))),(0,s.FI)(e,S,(e=>n(38,d=e))),(0,s.FI)(e,F,(e=>n(9,p=e))),(0,s.FI)(e,H,(e=>n(12,b=e))),(0,s.FI)(e,O,(e=>n(39,u=e))),(0,s.FI)(e,Z,(e=>n(4,g=e))),(0,s.FI)(e,U,(e=>n(10,$=e))),(0,s.FI)(e,P,(e=>n(11,h=e))),(0,s.FI)(e,Y,(e=>n(16,x=e))),(0,s.FI)(e,N,(e=>n(13,v=e))),(0,s.FI)(e,Q,(e=>n(14,y=e))),(0,s.FI)(e,V,(e=>n(15,T=e))),e.$$set=e=>{"gameState"in e&&n(0,w=e.gameState)},e.$$.update=()=>{12&e.$$.dirty[0]|64&e.$$.dirty[1]&&n(1,o=l&&2===i&&a),2&e.$$.dirty[0]|128&e.$$.dirty[1]&&n(5,r=o&&d),16&e.$$.dirty[0]|256&e.$$.dirty[1]&&n(6,c=u[g])},[w,o,i,a,g,r,c,f,m,p,$,h,b,v,y,T,x,R,G,k,I,L,C,j,M,D,S,F,H,O,Z,U,P,Y,N,Q,V,l,d,u,(e,t)=>w.sendMove(e,t),()=>w.historyGo(0),()=>w.historyGo(g-1),()=>w.historyGo(g+1),()=>w.historyGo(h.length),e=>w.historyGo(e+1),()=>w.sendMoveEnd(),()=>w.sendResign(),()=>w.sendDrawOffer(),()=>w.sendDrawReject()]}class ue extends s.f_{constructor(e){super(),(0,s.S1)(this,e,de,ae,s.N8,{gameState:0},[-1,-1])}}const ge=ue;function fe(e){let t,n;return t=new ge({props:{gameState:e[8]}}),{c(){(0,s.YC)(t.$$.fragment)},m(e,o){(0,s.ye)(t,e,o),n=!0},p:s.ZT,i(e){n||((0,s.Ui)(t.$$.fragment,e),n=!0)},o(e){(0,s.et)(t.$$.fragment,e),n=!1},d(e){(0,s.vp)(t,e)}}}function me(e){let t,n;return t=new u.Z({props:{results:e[5]}}),{c(){(0,s.YC)(t.$$.fragment)},m(e,o){(0,s.ye)(t,e,o),n=!0},p(e,n){const o={};32&n&&(o.results=e[5]),t.$set(o)},i(e){n||((0,s.Ui)(t.$$.fragment,e),n=!0)},o(e){(0,s.et)(t.$$.fragment,e),n=!1},d(e){(0,s.vp)(t,e)}}}function pe(e){let t,n,o,r,u,f,m,p,$,h,b,v,y,T,x,R;function G(t){e[17](t)}let w={};return void 0!==e[0]&&(w.value=e[0]),t=new a.Z({props:w}),s.Vn.push((()=>(0,s.ak)(t,"value",G))),r=new g.Z({props:{gameId:"ut3-zpfnljsogeu8x8fopwhylg",roomType:"UT3Room",joinData:{name:e[0]},onJoinedRoom:e[18],formatGameMode:e[16],roomCreateOptions:E}}),f=new d.Z({props:{inGame:e[1],isActive:e[2],canReady:1===e[3],isReady:e[4],onSetActive:e[19],onSetReady:e[20],onReset:e[21],onDisconnect:e[22],$$slots:{default:[fe]},$$scope:{ctx:e}}}),h=new l.Z({props:{canClear:!e[5].length,onClear:e[23],$$slots:{default:[me]},$$scope:{ctx:e}}}),v=new i.Z({props:{players:e[6],columns:[["Streak",$e],["Score",he],["Win",be],["Loss",ve],["Ties",ye]]}}),x=new c.Z({props:{chatState:e[7],onInput:e[24]}}),{c(){(0,s.YC)(t.$$.fragment),o=(0,s.Dh)(),(0,s.YC)(r.$$.fragment),u=(0,s.Dh)(),(0,s.YC)(f.$$.fragment),m=(0,s.Dh)(),p=(0,s.bG)("div"),$=(0,s.bG)("div"),(0,s.YC)(h.$$.fragment),b=(0,s.Dh)(),(0,s.YC)(v.$$.fragment),y=(0,s.Dh)(),T=(0,s.bG)("div"),(0,s.YC)(x.$$.fragment),(0,s.Lj)($,"class","col-12 col-xl-8"),(0,s.Lj)(T,"class","col-12 col-xl-4 mb-3"),(0,s.Lj)(p,"class","row")},m(e,n){(0,s.ye)(t,e,n),(0,s.$T)(e,o,n),(0,s.ye)(r,e,n),(0,s.$T)(e,u,n),(0,s.ye)(f,e,n),(0,s.$T)(e,m,n),(0,s.$T)(e,p,n),(0,s.R3)(p,$),(0,s.ye)(h,$,null),(0,s.R3)($,b),(0,s.ye)(v,$,null),(0,s.R3)(p,y),(0,s.R3)(p,T),(0,s.ye)(x,T,null),R=!0},p(e,[o]){const c={};!n&&1&o&&(n=!0,c.value=e[0],(0,s.hj)((()=>n=!1))),t.$set(c);const l={};1&o&&(l.joinData={name:e[0]}),1&o&&(l.onJoinedRoom=e[18]),r.$set(l);const i={};2&o&&(i.inGame=e[1]),4&o&&(i.isActive=e[2]),8&o&&(i.canReady=1===e[3]),16&o&&(i.isReady=e[4]),33554432&o&&(i.$$scope={dirty:o,ctx:e}),f.$set(i);const a={};32&o&&(a.canClear=!e[5].length),33554464&o&&(a.$$scope={dirty:o,ctx:e}),h.$set(a);const d={};64&o&&(d.players=e[6]),v.$set(d)},i(e){R||((0,s.Ui)(t.$$.fragment,e),(0,s.Ui)(r.$$.fragment,e),(0,s.Ui)(f.$$.fragment,e),(0,s.Ui)(h.$$.fragment,e),(0,s.Ui)(v.$$.fragment,e),(0,s.Ui)(x.$$.fragment,e),R=!0)},o(e){(0,s.et)(t.$$.fragment,e),(0,s.et)(r.$$.fragment,e),(0,s.et)(f.$$.fragment,e),(0,s.et)(h.$$.fragment,e),(0,s.et)(v.$$.fragment,e),(0,s.et)(x.$$.fragment,e),R=!1},d(e){(0,s.vp)(t,e),e&&(0,s.og)(o),(0,s.vp)(r,e),e&&(0,s.og)(u),(0,s.vp)(f,e),e&&(0,s.og)(m),e&&(0,s.og)(p),(0,s.vp)(h),(0,s.vp)(v),(0,s.vp)(x)}}}const $e=e=>e.streak,he=e=>e.score,be=e=>e.wins,ve=e=>e.loss,ye=e=>e.ties;function Te(e,t,n){let o,r,c,l,i,a,d;const u=new f.Z,g=new C(u),{inGame:m,isActive:$,isReady:h,pastGames:b,clientsSorted:v,roundState:y}=g;(0,s.FI)(e,m,(e=>n(1,r=e))),(0,s.FI)(e,$,(e=>n(2,c=e))),(0,s.FI)(e,h,(e=>n(4,i=e))),(0,s.FI)(e,b,(e=>n(5,a=e))),(0,s.FI)(e,v,(e=>n(6,d=e))),(0,s.FI)(e,y,(e=>n(3,l=e)));let T=(0,p.CR)("game/mp/_shared/name","");return(0,s.FI)(e,T,(e=>n(0,o=e))),[o,r,c,l,i,a,d,u,g,m,$,h,b,v,y,T,function({optTurnTime:e,optInverted:t,optChecked:n,optQuick:o}){return B("true"===t,"true"===n,"true"===o,+e)},function(e){o=e,T.set(o)},e=>g.enterGame(e,o),e=>g.sendActive(e),e=>g.sendReady(e),()=>g.sendReset(),()=>g.leaveGame(),()=>g.clearHistory(),e=>g.processCommand(e)]}class xe extends s.f_{constructor(e){super(),(0,s.S1)(this,e,Te,pe,s.N8,{})}}const Re=xe;(0,n(448).Z)(Re)}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var s=n[e]={exports:{}};return t[e](s,s.exports,o),s.exports}o.m=t,e=[],o.O=(t,n,r,s)=>{if(!n){var c=1/0;for(a=0;a<e.length;a++){for(var[n,r,s]=e[a],l=!0,i=0;i<n.length;i++)(!1&s||c>=s)&&Object.keys(o.O).every((e=>o.O[e](n[i])))?n.splice(i--,1):(l=!1,s<c&&(c=s));l&&(e.splice(a--,1),t=r())}return t}s=s||0;for(var a=e.length;a>0&&e[a-1][2]>s;a--)e[a]=e[a-1];e[a]=[n,r,s]},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={22:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,s,[c,l,i]=n,a=0;for(r in l)o.o(l,r)&&(o.m[r]=l[r]);if(i)var d=i(o);for(t&&t(n);a<c.length;a++)s=c[a],o.o(e,s)&&e[s]&&e[s][0](),e[c[a]]=0;return o.O(d)},n=self.webpackChunkvwww=self.webpackChunkvwww||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=o.O(void 0,[86,0,2,5],(()=>o(384)));r=o.O(r)})();