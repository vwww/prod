(()=>{"use strict";var e,t={379:(e,t,n)=>{var s,o,r,i,a,l=n(0),u=n(39),c=n(40),d=n(41),m=n(42),g=n(43),f=n(28),h=n(44),p=n(6),R=n(451),$=n(19);!function(e){e[e.ROUND_WAIT=9]="ROUND_WAIT",e[e.ROUND_INTERM=10]="ROUND_INTERM",e[e.ROUND_START=11]="ROUND_START",e[e.READY=12]="READY",e[e.MOVE_CONFIRM=13]="MOVE_CONFIRM",e[e.END_ROUND=14]="END_ROUND",e[e.END_TURN=15]="END_TURN",e[e.NUM=16]="NUM"}(s||(s={})),function(e){e[e.READY=5]="READY",e[e.MOVE=6]="MOVE",e[e.MOVE_END=7]="MOVE_END",e[e.NUM=8]="NUM"}(o||(o={})),function(e){e[e.WAITING=0]="WAITING",e[e.INTERMISSION=1]="INTERMISSION",e[e.ACTIVE=2]="ACTIVE"}(r||(r={}));class T extends $.R7{constructor(){super(...arguments),this.isReady=(0,p.$_)(!1),this.inRound=(0,p.$_)(!1),this.roundState=(0,p.$_)(0),this.roundTimerStart=(0,p.$_)(0),this.roundTimerEnd=(0,p.$_)(0),this.roundPlayers=(0,p.$_)([]),this.roundPlayerQueue=(0,p.$_)([]),this.INTERMISSION_TIME=3e4,this.ROUND_TIME=2e4}sendReady(e){var t;null===(t=this.room)||void 0===t||t.send((new R.T).putInt(o.READY).putBool(e).toArray())}sendMoveEnd(){var e;null===(e=this.room)||void 0===e||e.send((new R.T).putInt(o.MOVE_END).toArray())}roundWait(){this.roundState.set(r.WAITING),this.unsetReady()}roundIntermission(e){this.roundState.set(r.INTERMISSION),this.setTimer(e),this.unsetReady(),this.isReady.set(!1)}roundStart(e){this.roundState.set(r.ACTIVE),this.setTimer(e),this.unsetReady()}roundSetPlayers(e){this.roundPlayers.set(e)}roundSetPlayerQueue(e){this.roundPlayerQueue.set(e)}setTimer(e){this.roundTimerStart.set(Date.now()),this.roundTimerEnd.set(Date.now()+e)}processWelcomeGame(e){const t=e.getInt();if(0===t)this.roundWait();else if(1===t){this.roundIntermission(e.getInt());for(let t=0;t<=this.clients.size;t++){const t=e.getInt();if(t<0)break;const n=this.clients.get(t);n&&(n.ready=!0)}}else 2===t&&this.roundStart(e.getInt());const n=[];for(let t=0;t<=this.clients.size;t++){const t=e.getInt();if(t<0)break;const s=this.clients.get(t);s&&(s.inRound=!0,n.push(s))}this.roundSetPlayers(n);const s=[];for(let t=0;t<=this.clients.size;t++){const t=e.getInt();if(t<0)break;const n=this.clients.get(t);n&&s.push(n)}this.roundSetPlayerQueue(s),this.processWelcomeGame2(e)}processWelcomeGame2(e){}playerActivated(e){this.roundPlayerQueue.update((t=>[...t,e]))}playerDeactivated(e){this.roundPlayers.update((t=>t.filter((t=>t!==e)))),this.roundPlayerQueue.update((t=>t.filter((t=>t!==e)))),e.inRound=!1,e.isMe&&this.inRound.set(!1)}processMessage2(e,t){var n,o;switch(e){case s.ROUND_WAIT:this.roundWait();break;case s.ROUND_INTERM:this.roundIntermission(this.INTERMISSION_TIME);break;case s.ROUND_START:{const e=[];for(const e of this.clients.values())e.inRound=!1;for(let n=0;n<=this.clients.size;n++){const n=t.getInt();if(n<0)break;const s=this.clients.get(n);s&&(s.inRound=!0,e.push(s))}this.inRound.set(null!==(o=null===(n=this.clients.get(this.myCn))||void 0===n?void 0:n.inRound)&&void 0!==o&&o),this.roundSetPlayers(e),this.roundSetPlayerQueue([]),this.roundStart(this.ROUND_TIME),this.processRoundStart(t);break}case s.READY:{const e=t.getInt(),n=t.getBool(),s=this.clients.get(e);s&&(s.ready=n,e===this.myCn&&this.isReady.set(n),this.updatePlayers(!0),this.roundPlayers.update((e=>e)),this.roundPlayerQueue.update((e=>e)));break}case s.MOVE_CONFIRM:this.processMoveConfirm(t);break;case s.END_TURN:this.processEndTurn(t);break;case s.END_ROUND:this.processEndRound(t);break;default:return this.processMessage3(e,t)}return!0}processRoundStart(e){}processMessage3(e,t){return!1}unsetReady(){for(const e of this.clients.values())e.ready=!1}}T.DEFAULT_PLAYER=Object.assign(Object.assign({},$.R7.DEFAULT_PLAYER),{ready:!1,inRound:!1}),function(e){e[e.NUM=16]="NUM"}(i||(i={})),function(e){e[e.NUM=8]="NUM"}(a||(a={}));class v extends T{constructor(){super(...arguments),this.INTERMISSION_TIME=5e3,this.ROUND_TIME=3e3}processEndTurn(e){}}v.DEFAULT_PLAYER=T.DEFAULT_PLAYER;class y extends v{constructor(e,t){super(e),this.roundStartWithCurrentPlayer=t,this.modeInverted=(0,p.$_)(!1),this.modeAddRandom=(0,p.$_)(!1),this.modeTeam=(0,p.$_)(0),this.pendingMove=(0,p.$_)(0),this.playersSortProps=[e=>e.streak,e=>e.wins-e.losses,e=>e.wins]}sendMove(e){var t;null===(t=this.room)||void 0===t||t.send((new R.T).putInt(o.MOVE).putFloat64(e).toArray())}processMoveConfirm(e){this.pendingMove.set(e.getFloat64())}processRoundStart(e){var t;(null===(t=this.clients.get(this.myCn))||void 0===t?void 0:t.inRound)&&this.roundStartWithCurrentPlayer()}processEndRound(e){const t=Math.min(e.getInt(),this.clients.size),n=e.getFloat64(),s=e.getInt(),o=Math.min(e.getInt(),this.clients.size),r=this.modeInverted.get(),i=n%t,a={playerCount:o,moveSum:n,moveRnd:s,winner:i,inverted:r,teams:Array(t).fill(!1).map(((e,t)=>({id:t,winner:t===i!==r,moveSum:0,players:[]})))};for(let n=0;n<o;n++){const s=e.getInt();if(s<0)break;const o=e.getFloat64(),r=this.clients.get(s);if(!r)continue;const i=a.teams[n%t];i.winner?(r.wins++,r.streak<0&&(r.streak=0),r.streak++):(r.losses++,r.streak>0&&(r.streak=0),r.streak--),i.moveSum+=o,i.players.push({name:r.name,cn:r.cn,move:o})}this.updatePlayers(),this.addHistory(a)}processWelcomeMode(e){this.modeInverted.set(e.getBool()),this.modeAddRandom.set(e.getBool()),this.modeTeam.set(e.getInt())}processWelcomePlayer(e,t){t.wins=e.getInt(),t.losses=e.getInt(),t.streak=e.getInt()}playerResetStats(e){e.wins=0,e.losses=0,e.streak=0}makePlayer(){return Object.assign(Object.assign({},v.DEFAULT_PLAYER),{wins:0,losses:0,streak:0})}}function I(e,t,n){const s=e.slice();return s[1]=t[n],s}function L(e,t,n){const s=e.slice();return s[4]=t[n],s[6]=n,s}function b(e,t,n){const s=e.slice();return s[7]=t[n],s}function N(e){let t;return{c(){t=(0,l.bG)("li"),t.textContent="No past games!",(0,l.Lj)(t,"class","list-group-item")},m(e,n){(0,l.$T)(e,t,n)},d(e){e&&(0,l.og)(t)}}}function S(e){let t,n,s,o,r=(e[1].moveSum-e[1].moveRnd).toLocaleString()+"",i=e[1].moveRnd.toLocaleString()+"";return{c(){t=(0,l.fL)(r),n=(0,l.fL)(" + "),s=(0,l.fL)(i),o=(0,l.fL)(" =")},m(e,r){(0,l.$T)(e,t,r),(0,l.$T)(e,n,r),(0,l.$T)(e,s,r),(0,l.$T)(e,o,r)},p(e,n){1&n&&r!==(r=(e[1].moveSum-e[1].moveRnd).toLocaleString()+"")&&(0,l.rT)(t,r),1&n&&i!==(i=e[1].moveRnd.toLocaleString()+"")&&(0,l.rT)(s,i)},d(e){e&&(0,l.og)(t),e&&(0,l.og)(n),e&&(0,l.og)(s),e&&(0,l.og)(o)}}}function M(e){let t,n,s,o,r,i,a,u,c=e[7].name+"",d=e[7].cn+"",m=e[7].move+"";return{c(){t=(0,l.bG)("span"),n=(0,l.fL)(c),s=(0,l.fL)(" ("),o=(0,l.fL)(d),r=(0,l.fL)(")"),i=(0,l.Dh)(),a=(0,l.bG)("span"),u=(0,l.fL)(m),(0,l.Lj)(t,"class","badge me-1 bg-secondary"),(0,l.Lj)(a,"class","badge me-2 bg-primary")},m(e,c){(0,l.$T)(e,t,c),(0,l.R3)(t,n),(0,l.R3)(t,s),(0,l.R3)(t,o),(0,l.R3)(t,r),(0,l.$T)(e,i,c),(0,l.$T)(e,a,c),(0,l.R3)(a,u)},p(e,t){1&t&&c!==(c=e[7].name+"")&&(0,l.rT)(n,c),1&t&&d!==(d=e[7].cn+"")&&(0,l.rT)(o,d),1&t&&m!==(m=e[7].move+"")&&(0,l.rT)(u,m)},d(e){e&&(0,l.og)(t),e&&(0,l.og)(i),e&&(0,l.og)(a)}}}function E(e){let t,n,s,o,r,i,a,u,c,d=e[4].moveSum+"",m=e[4].players,g=[];for(let t=0;t<m.length;t+=1)g[t]=M(b(e,m,t));return{c(){t=(0,l.bG)("div"),n=(0,l.bG)("span"),s=(0,l.fL)("#"),o=(0,l.fL)(e[6]),i=(0,l.Dh)(),a=(0,l.bG)("span"),u=(0,l.fL)(d),c=(0,l.fL)(":\n          ");for(let e=0;e<g.length;e+=1)g[e].c();(0,l.Lj)(n,"class",r="badge me-1 bg-"+(e[4].winner?"success":"danger")),(0,l.Lj)(a,"class","badge bg-primary")},m(e,r){(0,l.$T)(e,t,r),(0,l.R3)(t,n),(0,l.R3)(n,s),(0,l.R3)(n,o),(0,l.R3)(t,i),(0,l.R3)(t,a),(0,l.R3)(a,u),(0,l.R3)(t,c);for(let e=0;e<g.length;e+=1)g[e].m(t,null)},p(e,s){if(1&s&&r!==(r="badge me-1 bg-"+(e[4].winner?"success":"danger"))&&(0,l.Lj)(n,"class",r),1&s&&d!==(d=e[4].moveSum+"")&&(0,l.rT)(u,d),1&s){let n;for(m=e[4].players,n=0;n<m.length;n+=1){const o=b(e,m,n);g[n]?g[n].p(o,s):(g[n]=M(o),g[n].c(),g[n].m(t,null))}for(;n<g.length;n+=1)g[n].d(1);g.length=m.length}},d(e){e&&(0,l.og)(t),(0,l.RM)(g,e)}}}function D(e){let t,n,s,o,r,i,a,u,c,d,m,g,f,h=e[1].moveSum.toLocaleString()+"",p=e[1].winner+"",R=e[1].teams.length+"",$=e[1].moveRnd>=0&&S(e),T=e[1].teams,v=[];for(let t=0;t<T.length;t+=1)v[t]=E(L(e,T,t));return{c(){t=(0,l.bG)("li"),n=(0,l.bG)("div"),s=(0,l.fL)("Total:\n        "),$&&$.c(),o=(0,l.Dh)(),r=(0,l.fL)(h),i=(0,l.fL)(" ≡ "),a=(0,l.bG)("span"),u=(0,l.fL)(p),c=(0,l.fL)(" (mod "),d=(0,l.fL)(R),m=(0,l.fL)(")"),g=(0,l.Dh)();for(let e=0;e<v.length;e+=1)v[e].c();f=(0,l.Dh)(),(0,l.Lj)(a,"class","badge bg-success"),(0,l.Lj)(t,"class","list-group-item")},m(e,h){(0,l.$T)(e,t,h),(0,l.R3)(t,n),(0,l.R3)(n,s),$&&$.m(n,null),(0,l.R3)(n,o),(0,l.R3)(n,r),(0,l.R3)(n,i),(0,l.R3)(n,a),(0,l.R3)(a,u),(0,l.R3)(n,c),(0,l.R3)(n,d),(0,l.R3)(n,m),(0,l.R3)(t,g);for(let e=0;e<v.length;e+=1)v[e].m(t,null);(0,l.R3)(t,f)},p(e,s){if(e[1].moveRnd>=0?$?$.p(e,s):($=S(e),$.c(),$.m(n,o)):$&&($.d(1),$=null),1&s&&h!==(h=e[1].moveSum.toLocaleString()+"")&&(0,l.rT)(r,h),1&s&&p!==(p=e[1].winner+"")&&(0,l.rT)(u,p),1&s&&R!==(R=e[1].teams.length+"")&&(0,l.rT)(d,R),1&s){let n;for(T=e[1].teams,n=0;n<T.length;n+=1){const o=L(e,T,n);v[n]?v[n].p(o,s):(v[n]=E(o),v[n].c(),v[n].m(t,f))}for(;n<v.length;n+=1)v[n].d(1);v.length=T.length}},d(e){e&&(0,l.og)(t),$&&$.d(),(0,l.RM)(v,e)}}}function O(e){let t,n=e[0],s=[];for(let t=0;t<n.length;t+=1)s[t]=D(I(e,n,t));let o=null;return n.length||(o=N()),{c(){t=(0,l.bG)("ul");for(let e=0;e<s.length;e+=1)s[e].c();o&&o.c(),(0,l.Lj)(t,"class","list-group list-group-flush overflow-auto"),(0,l.cz)(t,"max-height","15rem")},m(e,n){(0,l.$T)(e,t,n);for(let e=0;e<s.length;e+=1)s[e].m(t,null);o&&o.m(t,null)},p(e,[r]){if(1&r){let i;for(n=e[0],i=0;i<n.length;i+=1){const o=I(e,n,i);s[i]?s[i].p(o,r):(s[i]=D(o),s[i].c(),s[i].m(t,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length,n.length?o&&(o.d(1),o=null):o||(o=N(),o.c(),o.m(t,null))}},i:l.ZT,o:l.ZT,d(e){e&&(0,l.og)(t),(0,l.RM)(s,e),o&&o.d()}}}function _(e,t,n){let{results:s}=t;return e.$$set=e=>{"results"in e&&n(0,s=e.results)},[s]}class w extends l.f_{constructor(e){super(),(0,l.S1)(this,e,_,O,l.N8,{results:0})}}const A=w;var U=n(47);function G(e,t,n){const s=e.slice();return s[2]=t[n],s}function j(e,t,n){const s=e.slice();return s[5]=t[n],s}function C(e){let t;return{c(){t=(0,l.fL)("nobody")},m(e,n){(0,l.$T)(e,t,n)},d(e){e&&(0,l.og)(t)}}}function k(e){let t,n,s,o,r,i,a=e[5].name+"",u=e[5].cn+"";return{c(){t=(0,l.bG)("span"),n=(0,l.fL)(a),s=(0,l.fL)(" ("),o=(0,l.fL)(u),r=(0,l.fL)(")"),(0,l.Lj)(t,"class",i="badge bg-"+(e[5].ready?"info":"primary")+" me-1")},m(e,i){(0,l.$T)(e,t,i),(0,l.R3)(t,n),(0,l.R3)(t,s),(0,l.R3)(t,o),(0,l.R3)(t,r)},p(e,s){1&s&&a!==(a=e[5].name+"")&&(0,l.rT)(n,a),1&s&&u!==(u=e[5].cn+"")&&(0,l.rT)(o,u),1&s&&i!==(i="badge bg-"+(e[5].ready?"info":"primary")+" me-1")&&(0,l.Lj)(t,"class",i)},d(e){e&&(0,l.og)(t)}}}function F(e){let t;return{c(){t=(0,l.fL)("nobody")},m(e,n){(0,l.$T)(e,t,n)},d(e){e&&(0,l.og)(t)}}}function P(e){let t,n,s,o,r,i,a=e[2].name+"",u=e[2].cn+"";return{c(){t=(0,l.bG)("span"),n=(0,l.fL)(a),s=(0,l.fL)(" ("),o=(0,l.fL)(u),r=(0,l.fL)(")"),(0,l.Lj)(t,"class",i="badge bg-"+(e[2].ready?"info":"secondary")+" me-1")},m(e,i){(0,l.$T)(e,t,i),(0,l.R3)(t,n),(0,l.R3)(t,s),(0,l.R3)(t,o),(0,l.R3)(t,r)},p(e,s){2&s&&a!==(a=e[2].name+"")&&(0,l.rT)(n,a),2&s&&u!==(u=e[2].cn+"")&&(0,l.rT)(o,u),2&s&&i!==(i="badge bg-"+(e[2].ready?"info":"secondary")+" me-1")&&(0,l.Lj)(t,"class",i)},d(e){e&&(0,l.og)(t)}}}function x(e){let t,n,s,o,r,i=e[0],a=[];for(let t=0;t<i.length;t+=1)a[t]=k(j(e,i,t));let u=null;i.length||(u=C());let c=e[1],d=[];for(let t=0;t<c.length;t+=1)d[t]=P(G(e,c,t));let m=null;return c.length||(m=F()),{c(){t=(0,l.bG)("div"),n=(0,l.fL)("In game:\n  ");for(let e=0;e<a.length;e+=1)a[e].c();u&&u.c(),s=(0,l.Dh)(),o=(0,l.bG)("div"),r=(0,l.fL)("Queue:\n  ");for(let e=0;e<d.length;e+=1)d[e].c();m&&m.c()},m(e,i){(0,l.$T)(e,t,i),(0,l.R3)(t,n);for(let e=0;e<a.length;e+=1)a[e].m(t,null);u&&u.m(t,null),(0,l.$T)(e,s,i),(0,l.$T)(e,o,i),(0,l.R3)(o,r);for(let e=0;e<d.length;e+=1)d[e].m(o,null);m&&m.m(o,null)},p(e,[n]){if(1&n){let s;for(i=e[0],s=0;s<i.length;s+=1){const o=j(e,i,s);a[s]?a[s].p(o,n):(a[s]=k(o),a[s].c(),a[s].m(t,null))}for(;s<a.length;s+=1)a[s].d(1);a.length=i.length,i.length?u&&(u.d(1),u=null):u||(u=C(),u.c(),u.m(t,null))}if(2&n){let t;for(c=e[1],t=0;t<c.length;t+=1){const s=G(e,c,t);d[t]?d[t].p(s,n):(d[t]=P(s),d[t].c(),d[t].m(o,null))}for(;t<d.length;t+=1)d[t].d(1);d.length=c.length,c.length?m&&(m.d(1),m=null):m||(m=F(),m.c(),m.m(o,null))}},i:l.ZT,o:l.ZT,d(e){e&&(0,l.og)(t),(0,l.RM)(a,e),u&&u.d(),e&&(0,l.og)(s),e&&(0,l.og)(o),(0,l.RM)(d,e),m&&m.d()}}}function Y(e,t,n){let{inGame:s}=t,{inQueue:o}=t;return e.$$set=e=>{"inGame"in e&&n(0,s=e.inGame),"inQueue"in e&&n(1,o=e.inQueue)},[s,o]}class W extends l.f_{constructor(e){super(),(0,l.S1)(this,e,Y,x,l.N8,{inGame:0,inQueue:1})}}const Q=W,Z=[["optInverted","b",!1,"Inverted","switch winning and losing"],["optAddRandom","b",!1,"Random","add a random number to the result"],["optTeams","i",0,"Teams","number of teams",0,45]];function V(e,t,n){return(e?"Inverted ":"")+(t?"Randomized ":"")+(n?n+" Teams":"FFA")}function z(e){let t,n,s;function o(e,t){return 1===e[1]?J:e[3]?H:q}let r=o(e),i=r(e);return n=new U.Z({props:{startTime:e[4],endTime:e[5]}}),{c(){i.c(),t=(0,l.Dh)(),(0,l.YC)(n.$$.fragment)},m(e,o){i.m(e,o),(0,l.$T)(e,t,o),(0,l.ye)(n,e,o),s=!0},p(e,s){r!==(r=o(e))&&(i.d(1),i=r(e),i&&(i.c(),i.m(t.parentNode,t)));const a={};16&s&&(a.startTime=e[4]),32&s&&(a.endTime=e[5]),n.$set(a)},i(e){s||((0,l.Ui)(n.$$.fragment,e),s=!0)},o(e){(0,l.et)(n.$$.fragment,e),s=!1},d(e){i.d(e),e&&(0,l.og)(t),(0,l.vp)(n,e)}}}function B(e){let t;return{c(){t=(0,l.fL)("Waiting for players…")},m(e,n){(0,l.$T)(e,t,n)},p:l.ZT,i:l.ZT,o:l.ZT,d(e){e&&(0,l.og)(t)}}}function q(e){let t;return{c(){t=(0,l.fL)("Results are coming soon:")},m(e,n){(0,l.$T)(e,t,n)},d(e){e&&(0,l.og)(t)}}}function H(e){let t;return{c(){t=(0,l.fL)("Make a move:")},m(e,n){(0,l.$T)(e,t,n)},d(e){e&&(0,l.og)(t)}}}function J(e){let t;return{c(){t=(0,l.fL)("Intermission:")},m(e,n){(0,l.$T)(e,t,n)},d(e){e&&(0,l.og)(t)}}}function K(e){let t,n,s,o,r,i;return{c(){t=(0,l.bG)("input"),s=(0,l.Dh)(),o=(0,l.bG)("input"),(0,l.Lj)(t,"type","number"),(0,l.Lj)(t,"class",n="form-control is-"+(e[9]===e[2]?"":"in")+"valid"),(0,l.Lj)(t,"min","0"),(0,l.Lj)(t,"max","8000000000000"),(0,l.Lj)(o,"type","range"),(0,l.Lj)(o,"class","form-range"),(0,l.Lj)(o,"min","0"),(0,l.Lj)(o,"max","8000000000000")},m(n,a){(0,l.$T)(n,t,a),(0,l.Bm)(t,e[2]),(0,l.$T)(n,s,a),(0,l.$T)(n,o,a),(0,l.Bm)(o,e[2]),r||(i=[(0,l.oL)(t,"input",e[26]),(0,l.oL)(t,"change",(function(){(0,l.sB)(e[0].sendMove(e[2]))&&e[0].sendMove(e[2]).apply(this,arguments)})),(0,l.oL)(o,"change",e[27]),(0,l.oL)(o,"input",e[27]),(0,l.oL)(o,"change",(function(){(0,l.sB)(e[0].sendMove(e[2]))&&e[0].sendMove(e[2]).apply(this,arguments)}))],r=!0)},p(s,r){e=s,516&r&&n!==(n="form-control is-"+(e[9]===e[2]?"":"in")+"valid")&&(0,l.Lj)(t,"class",n),4&r&&(0,l.sC)(t.value)!==e[2]&&(0,l.Bm)(t,e[2]),4&r&&(0,l.Bm)(o,e[2])},d(e){e&&(0,l.og)(t),e&&(0,l.og)(s),e&&(0,l.og)(o),r=!1,(0,l.j7)(i)}}}function X(e){let t,n,s,o,r,i,a,u,c,d,m=V(e[6],e[7],e[8])+"";const g=[B,z],f=[];function h(e,t){return 0===e[1]?0:1}t=h(e),n=f[t]=g[t](e);let p=2===e[1]&&e[3]&&K(e);return c=new Q({props:{inGame:e[10],inQueue:e[11]}}),{c(){n.c(),s=(0,l.Dh)(),o=(0,l.bG)("div"),r=(0,l.fL)("Game Mode: "),i=(0,l.fL)(m),a=(0,l.Dh)(),p&&p.c(),u=(0,l.Dh)(),(0,l.YC)(c.$$.fragment)},m(e,n){f[t].m(e,n),(0,l.$T)(e,s,n),(0,l.$T)(e,o,n),(0,l.R3)(o,r),(0,l.R3)(o,i),(0,l.$T)(e,a,n),p&&p.m(e,n),(0,l.$T)(e,u,n),(0,l.ye)(c,e,n),d=!0},p(e,[o]){let r=t;t=h(e),t===r?f[t].p(e,o):((0,l.dv)(),(0,l.et)(f[r],1,1,(()=>{f[r]=null})),(0,l.gb)(),n=f[t],n?n.p(e,o):(n=f[t]=g[t](e),n.c()),(0,l.Ui)(n,1),n.m(s.parentNode,s)),(!d||448&o)&&m!==(m=V(e[6],e[7],e[8])+"")&&(0,l.rT)(i,m),2===e[1]&&e[3]?p?p.p(e,o):(p=K(e),p.c(),p.m(u.parentNode,u)):p&&(p.d(1),p=null);const a={};1024&o&&(a.inGame=e[10]),2048&o&&(a.inQueue=e[11]),c.$set(a)},i(e){d||((0,l.Ui)(n),(0,l.Ui)(c.$$.fragment,e),d=!0)},o(e){(0,l.et)(n),(0,l.et)(c.$$.fragment,e),d=!1},d(e){f[t].d(e),e&&(0,l.og)(s),e&&(0,l.og)(o),e&&(0,l.og)(a),p&&p.d(e),e&&(0,l.og)(u),(0,l.vp)(c,e)}}}function ee(e,t,n){let s,o,r,i,a,u,c,d,m,g,f,h,{gameState:p}=t,R=0;const{isActive:$,inRound:T,roundState:v,roundTimerStart:y,roundTimerEnd:I,roundPlayers:L,roundPlayerQueue:b,pendingMove:N,modeInverted:S,modeAddRandom:M,modeTeams:E}=p;return(0,l.FI)(e,$,(e=>n(24,o=e))),(0,l.FI)(e,T,(e=>n(25,i=e))),(0,l.FI)(e,v,(e=>n(1,r=e))),(0,l.FI)(e,y,(e=>n(4,a=e))),(0,l.FI)(e,I,(e=>n(5,u=e))),(0,l.FI)(e,L,(e=>n(10,f=e))),(0,l.FI)(e,b,(e=>n(11,h=e))),(0,l.FI)(e,N,(e=>n(9,g=e))),(0,l.FI)(e,S,(e=>n(6,c=e))),(0,l.FI)(e,M,(e=>n(7,d=e))),(0,l.FI)(e,E,(e=>n(8,m=e))),e.$$set=e=>{"gameState"in e&&n(0,p=e.gameState)},e.$$.update=()=>{50331650&e.$$.dirty&&n(3,s=o&&2===r&&i)},[p,r,R,s,a,u,c,d,m,g,f,h,$,T,v,y,I,L,b,N,S,M,E,function(){return n(2,R=Math.floor(8e12*Math.random()))},o,i,function(){R=(0,l.sC)(this.value),n(2,R)},function(){R=(0,l.sC)(this.value),n(2,R)}]}class te extends l.f_{constructor(e){super(),(0,l.S1)(this,e,ee,X,l.N8,{gameState:0,randomizeNextNumber:23})}get randomizeNextNumber(){return this.$$.ctx[23]}}const ne=te;function se(e){let t,n,s={gameState:e[9]};return t=new ne({props:s}),e[20](t),{c(){(0,l.YC)(t.$$.fragment)},m(e,s){(0,l.ye)(t,e,s),n=!0},p(e,n){t.$set({})},i(e){n||((0,l.Ui)(t.$$.fragment,e),n=!0)},o(e){(0,l.et)(t.$$.fragment,e),n=!1},d(n){e[20](null),(0,l.vp)(t,n)}}}function oe(e){let t,n;return t=new A({props:{results:e[6]}}),{c(){(0,l.YC)(t.$$.fragment)},m(e,s){(0,l.ye)(t,e,s),n=!0},p(e,n){const s={};64&n&&(s.results=e[6]),t.$set(s)},i(e){n||((0,l.Ui)(t.$$.fragment,e),n=!0)},o(e){(0,l.et)(t.$$.fragment,e),n=!1},d(e){(0,l.vp)(t,e)}}}function re(e){let t,n,s,o,r,i,a,h,p,R,$,T,v,y,I,L;function b(t){e[18](t)}let N={};return void 0!==e[1]&&(N.value=e[1]),t=new m.Z({props:N}),l.Vn.push((()=>(0,l.ak)(t,"value",b))),o=new f.Z({props:{gameId:"morra-prb9sv8g70oyhq9eznhkyq",roomType:"MorraRoom",joinData:{name:e[1]},onJoinedRoom:e[19],formatGameMode:e[17],roomCreateOptions:Z}}),i=new g.Z({props:{inGame:e[2],isActive:e[3],canReady:1===e[4],isReady:e[5],onSetActive:e[21],onSetReady:e[22],onReset:e[23],onDisconnect:e[24],$$slots:{default:[se]},$$scope:{ctx:e}}}),R=new c.Z({props:{canClear:!e[6].length,onClear:e[25],$$slots:{default:[oe]},$$scope:{ctx:e}}}),T=new d.Z({props:{players:e[7],columns:[["Streak",ie],["Score",ae],["Win",le],["Loss",ue]]}}),I=new u.Z({props:{chatState:e[8],onInput:e[26]}}),{c(){(0,l.YC)(t.$$.fragment),s=(0,l.Dh)(),(0,l.YC)(o.$$.fragment),r=(0,l.Dh)(),(0,l.YC)(i.$$.fragment),a=(0,l.Dh)(),h=(0,l.bG)("div"),p=(0,l.bG)("div"),(0,l.YC)(R.$$.fragment),$=(0,l.Dh)(),(0,l.YC)(T.$$.fragment),v=(0,l.Dh)(),y=(0,l.bG)("div"),(0,l.YC)(I.$$.fragment),(0,l.Lj)(p,"class","col-12 col-lg-8"),(0,l.Lj)(y,"class","col-12 col-lg-4 mb-3"),(0,l.Lj)(h,"class","row")},m(e,n){(0,l.ye)(t,e,n),(0,l.$T)(e,s,n),(0,l.ye)(o,e,n),(0,l.$T)(e,r,n),(0,l.ye)(i,e,n),(0,l.$T)(e,a,n),(0,l.$T)(e,h,n),(0,l.R3)(h,p),(0,l.ye)(R,p,null),(0,l.R3)(p,$),(0,l.ye)(T,p,null),(0,l.R3)(h,v),(0,l.R3)(h,y),(0,l.ye)(I,y,null),L=!0},p(e,[s]){const r={};!n&&2&s&&(n=!0,r.value=e[1],(0,l.hj)((()=>n=!1))),t.$set(r);const a={};2&s&&(a.joinData={name:e[1]}),2&s&&(a.onJoinedRoom=e[19]),o.$set(a);const u={};4&s&&(u.inGame=e[2]),8&s&&(u.isActive=e[3]),16&s&&(u.canReady=1===e[4]),32&s&&(u.isReady=e[5]),134217729&s&&(u.$$scope={dirty:s,ctx:e}),i.$set(u);const c={};64&s&&(c.canClear=!e[6].length),134217792&s&&(c.$$scope={dirty:s,ctx:e}),R.$set(c);const d={};128&s&&(d.players=e[7]),T.$set(d)},i(e){L||((0,l.Ui)(t.$$.fragment,e),(0,l.Ui)(o.$$.fragment,e),(0,l.Ui)(i.$$.fragment,e),(0,l.Ui)(R.$$.fragment,e),(0,l.Ui)(T.$$.fragment,e),(0,l.Ui)(I.$$.fragment,e),L=!0)},o(e){(0,l.et)(t.$$.fragment,e),(0,l.et)(o.$$.fragment,e),(0,l.et)(i.$$.fragment,e),(0,l.et)(R.$$.fragment,e),(0,l.et)(T.$$.fragment,e),(0,l.et)(I.$$.fragment,e),L=!1},d(e){(0,l.vp)(t,e),e&&(0,l.og)(s),(0,l.vp)(o,e),e&&(0,l.og)(r),(0,l.vp)(i,e),e&&(0,l.og)(a),e&&(0,l.og)(h),(0,l.vp)(R),(0,l.vp)(T),(0,l.vp)(I)}}}const ie=e=>e.streak,ae=e=>e.wins-e.losses,le=e=>e.wins,ue=e=>e.losses;function ce(e,t,n){let s,o,r,i,a,u,c,d;const m=new h.Z,g=new y(m,(()=>g.sendMove(d.randomizeNextNumber()))),{inGame:f,isActive:R,isReady:$,pastGames:T,clientsSorted:v,roundState:I}=g;(0,l.FI)(e,f,(e=>n(2,o=e))),(0,l.FI)(e,R,(e=>n(3,r=e))),(0,l.FI)(e,$,(e=>n(5,a=e))),(0,l.FI)(e,T,(e=>n(6,u=e))),(0,l.FI)(e,v,(e=>n(7,c=e))),(0,l.FI)(e,I,(e=>n(4,i=e)));let L=(0,p.CR)("game/mp/_shared/name","");return(0,l.FI)(e,L,(e=>n(1,s=e))),[d,s,o,r,i,a,u,c,m,g,f,R,$,T,v,I,L,function({optInverted:e,optAddRandom:t,optTeams:n}){return V("true"===e,"true"===t,+n)},function(e){s=e,L.set(s)},e=>g.enterGame(e,s),function(e){l.Vn[e?"unshift":"push"]((()=>{d=e,n(0,d)}))},e=>g.sendActive(e),e=>g.sendReady(e),()=>g.sendReset(),()=>g.leaveGame(),()=>g.clearHistory(),e=>g.processCommand(e)]}class de extends l.f_{constructor(e){super(),(0,l.S1)(this,e,ce,re,l.N8,{})}}const me=de;(0,n(448).Z)(me)},46:(e,t,n)=>{function s(e){const t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let n="";for(;e--;)n+=t[Math.random()*t.length|0];return n}n.d(t,{yF:()=>s})}},n={};function s(e){var o=n[e];if(void 0!==o)return o.exports;var r=n[e]={exports:{}};return t[e](r,r.exports,s),r.exports}s.m=t,e=[],s.O=(t,n,o,r)=>{if(!n){var i=1/0;for(u=0;u<e.length;u++){for(var[n,o,r]=e[u],a=!0,l=0;l<n.length;l++)(!1&r||i>=r)&&Object.keys(s.O).every((e=>s.O[e](n[l])))?n.splice(l--,1):(a=!1,r<i&&(i=r));a&&(e.splice(u--,1),t=o())}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,o,r]},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={17:0};s.O.j=t=>0===e[t];var t=(t,n)=>{var o,r,[i,a,l]=n,u=0;for(o in a)s.o(a,o)&&(s.m[o]=a[o]);if(l)var c=l(s);for(t&&t(n);u<i.length;u++)r=i[u],s.o(e,r)&&e[r]&&e[r][0](),e[i[u]]=0;return s.O(c)},n=self.webpackChunkvwww=self.webpackChunkvwww||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=s.O(void 0,[3,0,2],(()=>s(379)));o=s.O(o)})();