(()=>{"use strict";var e,t={383:(e,t,n)=>{var o,r,s=n(0),a=n(6),i=n(39),l=n(40),c=n(41),d=n(42),m=n(43),u=n(348),f=n(28),g=n(44),p=n(46);function $(e,t,n=t){return t.some(((t,o)=>t===(e&n[o])))}!function(e){e[e.None=0]="None",e[e.P1=1]="P1",e[e.P2=2]="P2"}(o||(o={})),function(e){e[e.None=0]="None",e[e.P1=1]="P1",e[e.P2=2]="P2",e[e.Tie=3]="Tie"}(r||(r={}));const h=[86016,1344,21,66576,16644,4161,65793,4368],v=[172032,2688,42,133152,33288,8322,131586,8736],b=[258048,258048,258048,4032,4032,4032,63,63,63,199728,199728,199728,49932,49932,49932,12483,12483,12483,197379,197379,197379,13104,13104,13104],w=[20480,69632,81920,320,1088,1280,5,17,20,1040,65552,66560,260,16388,16640,65,4097,4160,257,65537,65792,272,4112,4352],T=[40960,139264,163840,640,2176,2560,10,34,40,2080,131104,133120,520,32776,33280,130,8194,8320,514,131074,131584,544,8224,8704];var y=n(451),L=n(172),k=n(349);class R extends k.Du{constructor(){super(...arguments),this.modeTurnTime=(0,a.$_)(0),this.modeInverted=(0,a.$_)(!1),this.modeChecked=(0,a.$_)(!1),this.modeQuick=(0,a.$_)(!1),this.boardState=(0,a.$_)(0),this.boardBad=(0,a.$_)(0),this.moveHistory=(0,a.$_)([]),this.ROUND_TIME=0,this.playersSortProps=[e=>e.streak,e=>e.score,e=>e.wins]}sendMove(e){var t;null===(t=this.room)||void 0===t||t.send((new y.T).putInt(L.Zt.MOVE).putInt(e).toArray())}processMoveConfirm(e){e.getInt()}processRoundInfo(e){this.reset();for(let t=0;t<=9;t++){this.ply.set(t);const n=e.getInt();if(n<0)break;this.applyMove(n)}}processRoundStartInfo(e){this.reset()}processEndTurn2(e){const t=(0,p.uZ)(e.getInt(),0,8);this.applyMove(t)}processWelcomeMode(e){this.modeTurnTime.set(this.ROUND_TIME=e.getInt()),this.modeInverted.set(e.getBool()),this.modeChecked.set(e.getBool()),this.modeQuick.set(e.getBool())}makePlayer(){return Object.assign({},k.Du.DEFAULT_PLAYER)}reset(){this.boardState.set(0),this.boardBad.set(0),this.moveHistory.set([])}applyMove(e){const t=1<<(1&this.ply.get()),n=this.boardState.get()|t<<(e<<1);this.boardState.set(n),this.boardBad.set(this.calcBoardBadMoves(n,this.ply.get()+1)),this.moveHistory.update((t=>(t.push(e),t)))}calcBoardBadMoves(e,t){let n=0;if(this.modeChecked.get()){const o=1&t,r=1<<o;for(let t=0;t<9;t++){const s=e|r<<(t<<1);(this.modeInverted.get()?$(s,!!o?v:h):$(s,o?w:T,b))&&(n|=1<<t)}}return n}}function I(e,t,n){const o=e.slice();return o[4]=t[n],o}function C(e,t,n){const o=e.slice();return o[7]=t[n],o}const x=e=>({}),j=e=>({i:e[7]});function G(e){let t;const n=e[3].default,o=(0,s.nu)(n,e,e[2],j);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,r){o&&o.p&&(!t||4&r)&&(0,s.Tj)(o,n,e,e[2],t?r:-1,x,j)},i(e){t||((0,s.Ui)(o,e),t=!0)},o(e){(0,s.et)(o,e),t=!1},d(e){o&&o.d(e)}}}function D(e){let t,n,o,r=e[4],a=[];for(let t=0;t<r.length;t+=1)a[t]=G(C(e,r,t));const i=e=>(0,s.et)(a[e],1,1,(()=>{a[e]=null}));return{c(){t=(0,s.bG)("tr");for(let e=0;e<a.length;e+=1)a[e].c();n=(0,s.Dh)()},m(e,r){(0,s.$T)(e,t,r);for(let e=0;e<a.length;e+=1)a[e].m(t,null);(0,s.R3)(t,n),o=!0},p(e,o){if(6&o){let l;for(r=e[4],l=0;l<r.length;l+=1){const i=C(e,r,l);a[l]?(a[l].p(i,o),(0,s.Ui)(a[l],1)):(a[l]=G(i),a[l].c(),(0,s.Ui)(a[l],1),a[l].m(t,n))}for((0,s.dv)(),l=r.length;l<a.length;l+=1)i(l);(0,s.gb)()}},i(e){if(!o){for(let e=0;e<r.length;e+=1)(0,s.Ui)(a[e]);o=!0}},o(e){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)(0,s.et)(a[e]);o=!1},d(e){e&&(0,s.og)(t),(0,s.RM)(a,e)}}}function U(e){let t,n,o,r=e[1],a=[];for(let t=0;t<r.length;t+=1)a[t]=D(I(e,r,t));const i=e=>(0,s.et)(a[e],1,1,(()=>{a[e]=null}));return{c(){t=(0,s.bG)("table");for(let e=0;e<a.length;e+=1)a[e].c();(0,s.Lj)(t,"class",n="w"+e[0]+" svelte-18g021d")},m(e,n){(0,s.$T)(e,t,n);for(let e=0;e<a.length;e+=1)a[e].m(t,null);o=!0},p(e,[l]){if(6&l){let n;for(r=e[1],n=0;n<r.length;n+=1){const o=I(e,r,n);a[n]?(a[n].p(o,l),(0,s.Ui)(a[n],1)):(a[n]=D(o),a[n].c(),(0,s.Ui)(a[n],1),a[n].m(t,null))}for((0,s.dv)(),n=r.length;n<a.length;n+=1)i(n);(0,s.gb)()}(!o||1&l&&n!==(n="w"+e[0]+" svelte-18g021d"))&&(0,s.Lj)(t,"class",n)},i(e){if(!o){for(let e=0;e<r.length;e+=1)(0,s.Ui)(a[e]);o=!0}},o(e){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)(0,s.et)(a[e]);o=!1},d(e){e&&(0,s.og)(t),(0,s.RM)(a,e)}}}function M(e,t,n){let{$$slots:o={},$$scope:r}=t,{winner:s}=t;return e.$$set=e=>{"winner"in e&&n(0,s=e.winner),"$$scope"in e&&n(2,r=e.$$scope)},[s,[[0,1,2],[3,4,5],[6,7,8]],r,o]}class F extends s.f_{constructor(e){var t;super(),document.getElementById("svelte-18g021d-style")||((t=(0,s.bG)("style")).id="svelte-18g021d-style",t.textContent="table.svelte-18g021d{background-color:#add8e6;border-collapse:separate;border-radius:12px;border-spacing:10px;margin:auto;margin-bottom:10px}table.w1.svelte-18g021d{background-color:#008000 }table.w2.svelte-18g021d{background-color:#ffa07a }table.w3.svelte-18g021d{background-color:#a9a9a9 }",(0,s.R3)(document.head,t)),(0,s.S1)(this,e,M,U,s.N8,{winner:0})}}const S=F;function O(e){let t,n,o,r,a;return{c(){t=(0,s.bG)("td"),(0,s.Lj)(t,"class",n="p"+e[1]+" n"+(e[0]?0:e[2])+" "+e[3]+" svelte-dnwanm"),(0,s.Lj)(t,"data-hintturn",o=e[4]?e[4]>0?10-e[4]:10+e[4]:void 0),(0,s.VH)(t,"win",e[0])},m(n,o){(0,s.$T)(n,t,o),r||(a=(0,s.oL)(t,"click",(function(){(0,s.sB)(e[5])&&e[5].apply(this,arguments)})),r=!0)},p(r,[a]){e=r,15&a&&n!==(n="p"+e[1]+" n"+(e[0]?0:e[2])+" "+e[3]+" svelte-dnwanm")&&(0,s.Lj)(t,"class",n),16&a&&o!==(o=e[4]?e[4]>0?10-e[4]:10+e[4]:void 0)&&(0,s.Lj)(t,"data-hintturn",o),15&a&&(0,s.VH)(t,"win",e[0])},i:s.ZT,o:s.ZT,d(e){e&&(0,s.og)(t),r=!1,a()}}}function Z(e,t,n){let{winner:o}=t,{mark:r}=t,{markHover:s=0}=t,{hintClass:a=""}=t,{hintVal:i}=t,{onMove:l}=t;return e.$$set=e=>{"winner"in e&&n(0,o=e.winner),"mark"in e&&n(1,r=e.mark),"markHover"in e&&n(2,s=e.markHover),"hintClass"in e&&n(3,a=e.hintClass),"hintVal"in e&&n(4,i=e.hintVal),"onMove"in e&&n(5,l=e.onMove)},[o,r,s,a,i,l]}class H extends s.f_{constructor(e){var t;super(),document.getElementById("svelte-dnwanm-style")||((t=(0,s.bG)("style")).id="svelte-dnwanm-style",t.textContent='td.svelte-dnwanm{background-color:#98afc7;border-radius:0.5em;cursor:pointer;height:7rem;margin:0.6em;position:relative;width:7rem}td.win.svelte-dnwanm{background-color:#696969;cursor:not-allowed}td.svelte-dnwanm:before,td.svelte-dnwanm:after{pointer-events:none;position:absolute}td.svelte-dnwanm:before{color:#eee;left:0.3em;top:0}td.svelte-dnwanm:after{color:white;bottom:0;left:0;right:0;top:0;text-align:center;line-height:7rem}td.svelte-dnwanm:before{font-size:2em }td.svelte-dnwanm:after{font-size:5.6em }td.p0.svelte-dnwanm:after{font-size:4.6rem }td.hlose.svelte-dnwanm,td.htie.noW.svelte-dnwanm{background-color:#cd5c5c }td.hwin.svelte-dnwanm,td.htie.noL.svelte-dnwanm{background-color:#20b2aa }td.hwin.noL.svelte-dnwanm:after{content:"+T" }td.hwin.noT.svelte-dnwanm:after{content:"+-" }td.hwin.noL.noT.svelte-dnwanm:after{content:"+" }td.hlose.noW.svelte-dnwanm:after{content:"-T" }td.hlose.noT.svelte-dnwanm:after{content:"-+" }td.hlose.noW.noT.svelte-dnwanm:after{content:"-" }td[data-hintTurn].svelte-dnwanm:before{content:attr(data-hintTurn) }td.htie.noL.svelte-dnwanm,td.htie.noW.svelte-dnwanm{opacity:0.5 }td.htie.noL.noW.svelte-dnwanm{opacity:inherit }td.htie.noW.svelte-dnwanm:after{content:"-?" }td.htie.noL.svelte-dnwanm:after{content:"+?" }td.htie.noL.noW.svelte-dnwanm{background-color:#ffa500 }td.htie.noL.noW.svelte-dnwanm:after{content:"T" }td.p1.svelte-dnwanm,td.p0.n1.svelte-dnwanm:hover{background-color:#9acd32 }td.p2.svelte-dnwanm,td.p0.n2.svelte-dnwanm:hover{background-color:#ff7f50 }td.p1.svelte-dnwanm,td.p2.svelte-dnwanm{cursor:auto }td.p0.n1.svelte-dnwanm:hover,td.p0.n2.svelte-dnwanm:hover{opacity:0.5 }td.p1.svelte-dnwanm:after,td.p0.n1.svelte-dnwanm:hover:after{content:"X" }td.p2.svelte-dnwanm:after,td.p0.n2.svelte-dnwanm:hover:after{content:"O" }',(0,s.R3)(document.head,t)),(0,s.S1)(this,e,Z,O,s.N8,{winner:0,mark:1,markHover:2,hintClass:3,hintVal:4,onMove:5})}}const P=H;var B=n(47),Y=n(347),N=n(350);const _=[["optTurnTime","i",1e4,"Turn Time / ms","duration of each turn, in milliseconds",1500,2e4],["optInverted","b",!1,"Inverted","switch winning and losing"],["optChecked","b",!1,"Checked","disallow obviously bad moves"],["optQuick","b",!1,"Quick","end early for guaranteed outcomes"]];function V(e,t,n,o){return`${e?"inverted ":""}${t?"checked ":""}${n?"quick ":""}${e||t||n?"":"standard "}${o}ms`}function W(e,t,n){const o=e.slice();return o[51]=t[n][0],o[50]=t[n][1],o}function E(e,t,n){const o=e.slice();return o[48]=t[n],o[50]=n,o}function A(e){let t,n,o;function r(e,t){return 1===e[3]?J:e[5]?q:e[4]?X:z}let a=r(e),i=a(e);return n=new B.Z({props:{startTime:e[6],endTime:e[7]}}),{c(){i.c(),t=(0,s.Dh)(),(0,s.YC)(n.$$.fragment)},m(e,r){i.m(e,r),(0,s.$T)(e,t,r),(0,s.ye)(n,e,r),o=!0},p(e,o){a!==(a=r(e))&&(i.d(1),i=a(e),i&&(i.c(),i.m(t.parentNode,t)));const s={};64&o[0]&&(s.startTime=e[6]),128&o[0]&&(s.endTime=e[7]),n.$set(s)},i(e){o||((0,s.Ui)(n.$$.fragment,e),o=!0)},o(e){(0,s.et)(n.$$.fragment,e),o=!1},d(e){i.d(e),e&&(0,s.og)(t),(0,s.vp)(n,e)}}}function Q(e){let t;return{c(){t=(0,s.fL)("Waiting for players…")},m(e,n){(0,s.$T)(e,t,n)},p:s.ZT,i:s.ZT,o:s.ZT,d(e){e&&(0,s.og)(t)}}}function z(e){let t;return{c(){t=(0,s.fL)("Spectating:")},m(e,n){(0,s.$T)(e,t,n)},d(e){e&&(0,s.og)(t)}}}function X(e){let t;return{c(){t=(0,s.fL)("Waiting for opponent to move…")},m(e,n){(0,s.$T)(e,t,n)},d(e){e&&(0,s.og)(t)}}}function q(e){let t;return{c(){t=(0,s.fL)("Make a move:")},m(e,n){(0,s.$T)(e,t,n)},d(e){e&&(0,s.og)(t)}}}function J(e){let t;return{c(){t=(0,s.fL)("Intermission:")},m(e,n){(0,s.$T)(e,t,n)},d(e){e&&(0,s.og)(t)}}}function K(e){let t,n,o,r,a,i,l,c,d=["numbers that sum to 15","words that have the same letter"][e[1]-1]+"";function m(e,t){return e[8]?1===e[8]?ne:te:oe}let u=m(e),f=u(e),g=1===e[1]?e[38]:e[39],p=[];for(let t=0;t<g.length;t+=1)p[t]=re(W(e,g,t));return{c(){t=(0,s.bG)("p"),n=(0,s.fL)("You are\n    "),f.c(),o=(0,s.fL)("\n    Take 3 "),r=(0,s.fL)(d),a=(0,s.fL)("."),i=(0,s.Dh)(),l=(0,s.bG)("div"),c=(0,s.bG)("div");for(let e=0;e<p.length;e+=1)p[e].c();(0,s.Lj)(c,"class","btn-group"),(0,s.Lj)(l,"class","m-auto text-center")},m(e,d){(0,s.$T)(e,t,d),(0,s.R3)(t,n),f.m(t,null),(0,s.R3)(t,o),(0,s.R3)(t,r),(0,s.R3)(t,a),(0,s.$T)(e,i,d),(0,s.$T)(e,l,d),(0,s.R3)(l,c);for(let e=0;e<p.length;e+=1)p[e].m(c,null)},p(e,n){if(u!==(u=m(e))&&(f.d(1),f=u(e),f&&(f.c(),f.m(t,o))),2&n[0]&&d!==(d=["numbers that sum to 15","words that have the same letter"][e[1]-1]+"")&&(0,s.rT)(r,d),3331&n[0]|384&n[1]){let t;for(g=1===e[1]?e[38]:e[39],t=0;t<g.length;t+=1){const o=W(e,g,t);p[t]?p[t].p(o,n):(p[t]=re(o),p[t].c(),p[t].m(c,null))}for(;t<p.length;t+=1)p[t].d(1);p.length=g.length}},i:s.ZT,o:s.ZT,d(e){e&&(0,s.og)(t),f.d(),e&&(0,s.og)(i),e&&(0,s.og)(l),(0,s.RM)(p,e)}}}function ee(e){let t,n,o,r,a,i,l,c,d;function m(e,t){return e[8]?1===e[8]?ae:se:ie}let u=m(e),f=u(e);a=new S({props:{winner:e[9],$$slots:{default:[le,({i:e})=>({50:e}),({i:e})=>[0,e?524288:0]]},$$scope:{ctx:e}}});let g=e[12],p=[];for(let t=0;t<g.length;t+=1)p[t]=de(E(e,g,t));let $=null;return g.length||($=ce()),{c(){t=(0,s.bG)("p"),n=(0,s.fL)("You are\n    "),f.c(),o=(0,s.fL)("\n    Get 3 in a row to win."),r=(0,s.Dh)(),(0,s.YC)(a.$$.fragment),i=(0,s.Dh)(),l=(0,s.bG)("div"),c=(0,s.fL)("Moves:\n    ");for(let e=0;e<p.length;e+=1)p[e].c();$&&$.c()},m(e,m){(0,s.$T)(e,t,m),(0,s.R3)(t,n),f.m(t,null),(0,s.R3)(t,o),(0,s.$T)(e,r,m),(0,s.ye)(a,e,m),(0,s.$T)(e,i,m),(0,s.$T)(e,l,m),(0,s.R3)(l,c);for(let e=0;e<p.length;e+=1)p[e].m(l,null);$&&$.m(l,null),d=!0},p(e,n){u!==(u=m(e))&&(f.d(1),f=u(e),f&&(f.c(),f.m(t,o)));const r={};if(512&n[0]&&(r.winner=e[9]),3361&n[0]|8912896&n[1]&&(r.$$scope={dirty:n,ctx:e}),a.$set(r),4096&n[0]){let t;for(g=e[12],t=0;t<g.length;t+=1){const o=E(e,g,t);p[t]?p[t].p(o,n):(p[t]=de(o),p[t].c(),p[t].m(l,null))}for(;t<p.length;t+=1)p[t].d(1);p.length=g.length,g.length?$&&($.d(1),$=null):$||($=ce(),$.c(),$.m(l,null))}},i(e){d||((0,s.Ui)(a.$$.fragment,e),d=!0)},o(e){(0,s.et)(a.$$.fragment,e),d=!1},d(e){e&&(0,s.og)(t),f.d(),e&&(0,s.og)(r),(0,s.vp)(a,e),e&&(0,s.og)(i),e&&(0,s.og)(l),(0,s.RM)(p,e),$&&$.d()}}}function te(e){let t,n;return{c(){t=(0,s.bG)("span"),t.textContent="player O",n=(0,s.fL)("."),(0,s.Lj)(t,"class","badge bg-primary")},m(e,o){(0,s.$T)(e,t,o),(0,s.$T)(e,n,o)},d(e){e&&(0,s.og)(t),e&&(0,s.og)(n)}}}function ne(e){let t,n;return{c(){t=(0,s.bG)("span"),t.textContent="player X",n=(0,s.fL)("."),(0,s.Lj)(t,"class","badge bg-success")},m(e,o){(0,s.$T)(e,t,o),(0,s.$T)(e,n,o)},d(e){e&&(0,s.og)(t),e&&(0,s.og)(n)}}}function oe(e){let t,n;return{c(){t=(0,s.bG)("span"),t.textContent="spectating",n=(0,s.fL)("."),(0,s.Lj)(t,"class","badge bg-secondary")},m(e,o){(0,s.$T)(e,t,o),(0,s.$T)(e,n,o)},d(e){e&&(0,s.og)(t),e&&(0,s.og)(n)}}}function re(e){let t,n,o,r,a,i=e[51]+"";function l(){return e[43](e[50])}return{c(){t=(0,s.bG)("button"),n=(0,s.fL)(i),(0,s.Lj)(t,"class",o=`btn btn-${ge(e[50],e[10],e[11],e[8])}`)},m(e,o){(0,s.$T)(e,t,o),(0,s.R3)(t,n),r||(a=(0,s.oL)(t,"click",l),r=!0)},p(r,a){e=r,2&a[0]&&i!==(i=e[51]+"")&&(0,s.rT)(n,i),3330&a[0]&&o!==(o=`btn btn-${ge(e[50],e[10],e[11],e[8])}`)&&(0,s.Lj)(t,"class",o)},d(e){e&&(0,s.og)(t),r=!1,a()}}}function se(e){let t,n;return{c(){t=(0,s.bG)("span"),t.textContent="player O",n=(0,s.fL)("."),(0,s.Lj)(t,"class","badge bg-danger")},m(e,o){(0,s.$T)(e,t,o),(0,s.$T)(e,n,o)},d(e){e&&(0,s.og)(t),e&&(0,s.og)(n)}}}function ae(e){let t,n;return{c(){t=(0,s.bG)("span"),t.textContent="player X",n=(0,s.fL)("."),(0,s.Lj)(t,"class","badge bg-success")},m(e,o){(0,s.$T)(e,t,o),(0,s.$T)(e,n,o)},d(e){e&&(0,s.og)(t),e&&(0,s.og)(n)}}}function ie(e){let t,n;return{c(){t=(0,s.bG)("span"),t.textContent="spectating",n=(0,s.fL)("."),(0,s.Lj)(t,"class","badge bg-secondary")},m(e,o){(0,s.$T)(e,t,o),(0,s.$T)(e,n,o)},d(e){e&&(0,s.og)(t),e&&(0,s.og)(n)}}}function le(e){let t,n;function o(){return e[42](e[50])}return t=new P({props:{mark:e[10]>>(e[50]<<1)&3,markHover:!e[5]||e[11]>>e[50]&1?0:e[8],hintClass:e[10]>>(e[50]<<1)&3||!(e[11]>>e[50]&1)?"":"hlose",onMove:o}}),{c(){(0,s.YC)(t.$$.fragment)},m(e,o){(0,s.ye)(t,e,o),n=!0},p(n,r){e=n;const s={};1024&r[0]|524288&r[1]&&(s.mark=e[10]>>(e[50]<<1)&3),2336&r[0]|524288&r[1]&&(s.markHover=!e[5]||e[11]>>e[50]&1?0:e[8]),3072&r[0]|524288&r[1]&&(s.hintClass=e[10]>>(e[50]<<1)&3||!(e[11]>>e[50]&1)?"":"hlose"),1&r[0]&&(s.onMove=o),t.$set(s)},i(e){n||((0,s.Ui)(t.$$.fragment,e),n=!0)},o(e){(0,s.et)(t.$$.fragment,e),n=!1},d(e){(0,s.vp)(t,e)}}}function ce(e){let t;return{c(){t=(0,s.fL)("(none)")},m(e,n){(0,s.$T)(e,t,n)},d(e){e&&(0,s.og)(t)}}}function de(e){let t,n,o,r=e[48]+"";return{c(){t=(0,s.bG)("span"),n=(0,s.fL)(r),(0,s.Lj)(t,"class",o=`badge bg-${1&e[50]?"danger":"success"} me-1`)},m(e,o){(0,s.$T)(e,t,o),(0,s.R3)(t,n)},p(e,t){4096&t[0]&&r!==(r=e[48]+"")&&(0,s.rT)(n,r)},d(e){e&&(0,s.og)(t)}}}function me(e){let t,n,o,r=e[5]&&ue(e);return n=new N.Z({props:{drawOffer:e[13],onResign:e[45],onDrawOffer:e[46],onDrawReject:e[47]}}),{c(){r&&r.c(),t=(0,s.Dh)(),(0,s.YC)(n.$$.fragment)},m(e,a){r&&r.m(e,a),(0,s.$T)(e,t,a),(0,s.ye)(n,e,a),o=!0},p(e,o){e[5]?r?r.p(e,o):(r=ue(e),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null);const s={};8192&o[0]&&(s.drawOffer=e[13]),1&o[0]&&(s.onResign=e[45]),1&o[0]&&(s.onDrawOffer=e[46]),1&o[0]&&(s.onDrawReject=e[47]),n.$set(s)},i(e){o||((0,s.Ui)(n.$$.fragment,e),o=!0)},o(e){(0,s.et)(n.$$.fragment,e),o=!1},d(e){r&&r.d(e),e&&(0,s.og)(t),(0,s.vp)(n,e)}}}function ue(e){let t,n,o;return{c(){t=(0,s.bG)("button"),t.textContent="End Turn (Auto Random)",(0,s.Lj)(t,"class","btn btn-outline-secondary d-block w-100 my-2")},m(r,a){(0,s.$T)(r,t,a),n||(o=(0,s.oL)(t,"click",e[44]),n=!0)},p:s.ZT,d(e){e&&(0,s.og)(t),n=!1,o()}}}function fe(e){let t,n,o,r,a,i,l,c,d,m,u,f,g,p,$,h=V(e[14],e[15],e[16],e[17])+"";const v=[Q,A],b=[];function w(e,t){return e[3]?1:0}t=w(e),n=b[t]=v[t](e);const T=[ee,K],y=[];function L(e,t){return e[1]?1:0}r=L(e),a=y[r]=T[r](e);let k=e[2]&&me(e);return p=new Y.Z({props:{inGame:e[18],inQueue:e[19]}}),{c(){n.c(),o=(0,s.Dh)(),a.c(),i=(0,s.Dh)(),k&&k.c(),l=(0,s.Dh)(),c=(0,s.bG)("div"),d=(0,s.fL)("Game Mode: "),m=(0,s.fL)(h),u=(0,s.Dh)(),f=(0,s.bG)("b"),f.textContent="Lobby",g=(0,s.Dh)(),(0,s.YC)(p.$$.fragment)},m(e,n){b[t].m(e,n),(0,s.$T)(e,o,n),y[r].m(e,n),(0,s.$T)(e,i,n),k&&k.m(e,n),(0,s.$T)(e,l,n),(0,s.$T)(e,c,n),(0,s.R3)(c,d),(0,s.R3)(c,m),(0,s.$T)(e,u,n),(0,s.$T)(e,f,n),(0,s.$T)(e,g,n),(0,s.ye)(p,e,n),$=!0},p(e,c){let d=t;t=w(e),t===d?b[t].p(e,c):((0,s.dv)(),(0,s.et)(b[d],1,1,(()=>{b[d]=null})),(0,s.gb)(),n=b[t],n?n.p(e,c):(n=b[t]=v[t](e),n.c()),(0,s.Ui)(n,1),n.m(o.parentNode,o));let u=r;r=L(e),r===u?y[r].p(e,c):((0,s.dv)(),(0,s.et)(y[u],1,1,(()=>{y[u]=null})),(0,s.gb)(),a=y[r],a?a.p(e,c):(a=y[r]=T[r](e),a.c()),(0,s.Ui)(a,1),a.m(i.parentNode,i)),e[2]?k?(k.p(e,c),4&c[0]&&(0,s.Ui)(k,1)):(k=me(e),k.c(),(0,s.Ui)(k,1),k.m(l.parentNode,l)):k&&((0,s.dv)(),(0,s.et)(k,1,1,(()=>{k=null})),(0,s.gb)()),(!$||245760&c[0])&&h!==(h=V(e[14],e[15],e[16],e[17])+"")&&(0,s.rT)(m,h);const f={};262144&c[0]&&(f.inGame=e[18]),524288&c[0]&&(f.inQueue=e[19]),p.$set(f)},i(e){$||((0,s.Ui)(n),(0,s.Ui)(a),(0,s.Ui)(k),(0,s.Ui)(p.$$.fragment,e),$=!0)},o(e){(0,s.et)(n),(0,s.et)(a),(0,s.et)(k),(0,s.et)(p.$$.fragment,e),$=!1},d(e){b[t].d(e),e&&(0,s.og)(o),y[r].d(e),e&&(0,s.og)(i),k&&k.d(e),e&&(0,s.og)(l),e&&(0,s.og)(c),e&&(0,s.og)(u),e&&(0,s.og)(f),e&&(0,s.og)(g),(0,s.vp)(p,e)}}}function ge(e,t,n){const o=t>>(e<<1)&3;return`${o?"":"outline-"}${["secondary","success","primary","danger"][o||(n>>e&1?3:0)]}`}function pe(e,t,n){let o,r,a,i,l,c,d,m,u,f,g,p,$,h,v,b,w,T,y,L,{gameState:k}=t,{t3Isomorphism:R}=t;const{isActive:I,inRound:C,roundState:x,roundTimerStart:j,roundTimerEnd:G,roundPlayers:D,roundPlayerQueue:U,myTurn:M,myPlayer:F,drawOffer:S,boardState:O,boardBad:Z,winner:H,moveHistory:P,modeTurnTime:B,modeInverted:Y,modeChecked:N,modeQuick:_}=k;return(0,s.FI)(e,I,(e=>n(40,a=e))),(0,s.FI)(e,C,(e=>n(4,l=e))),(0,s.FI)(e,x,(e=>n(3,i=e))),(0,s.FI)(e,j,(e=>n(6,d=e))),(0,s.FI)(e,G,(e=>n(7,m=e))),(0,s.FI)(e,D,(e=>n(18,y=e))),(0,s.FI)(e,U,(e=>n(19,L=e))),(0,s.FI)(e,M,(e=>n(41,c=e))),(0,s.FI)(e,F,(e=>n(8,u=e))),(0,s.FI)(e,S,(e=>n(13,h=e))),(0,s.FI)(e,O,(e=>n(10,g=e))),(0,s.FI)(e,Z,(e=>n(11,p=e))),(0,s.FI)(e,H,(e=>n(9,f=e))),(0,s.FI)(e,P,(e=>n(12,$=e))),(0,s.FI)(e,B,(e=>n(17,T=e))),(0,s.FI)(e,Y,(e=>n(14,v=e))),(0,s.FI)(e,N,(e=>n(15,b=e))),(0,s.FI)(e,_,(e=>n(16,w=e))),e.$$set=e=>{"gameState"in e&&n(0,k=e.gameState),"t3Isomorphism"in e&&n(1,R=e.t3Isomorphism)},e.$$.update=()=>{24&e.$$.dirty[0]|512&e.$$.dirty[1]&&n(2,o=a&&2===i&&l),4&e.$$.dirty[0]|1024&e.$$.dirty[1]&&n(5,r=o&&c)},[k,R,o,i,l,r,d,m,u,f,g,p,$,h,v,b,w,T,y,L,I,C,x,j,G,D,U,M,F,S,O,Z,H,P,B,Y,N,_,[[1,5],[2,0],[3,7],[4,6],[5,4],[6,2],[7,1],[8,8],[9,3]],[["air",3],["bee",1],["bits",4],["book",7],["eat",0],["less",2],["lip",5],["lot",8],["soda",6]],a,c,e=>k.sendMove(e),e=>k.sendMove(e),()=>k.sendMoveEnd(),()=>k.sendResign(),()=>k.sendDrawOffer(),()=>k.sendDrawReject()]}class $e extends s.f_{constructor(e){super(),(0,s.S1)(this,e,pe,fe,s.N8,{gameState:0,t3Isomorphism:1},[-1,-1])}}const he=$e;function ve(e){let t,n;return t=new he({props:{gameState:e[9],t3Isomorphism:e[0]}}),{c(){(0,s.YC)(t.$$.fragment)},m(e,o){(0,s.ye)(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.t3Isomorphism=e[0]),t.$set(o)},i(e){n||((0,s.Ui)(t.$$.fragment,e),n=!0)},o(e){(0,s.et)(t.$$.fragment,e),n=!1},d(e){(0,s.vp)(t,e)}}}function be(e){let t,n;return t=new u.Z({props:{results:e[6]}}),{c(){(0,s.YC)(t.$$.fragment)},m(e,o){(0,s.ye)(t,e,o),n=!0},p(e,n){const o={};64&n&&(o.results=e[6]),t.$set(o)},i(e){n||((0,s.Ui)(t.$$.fragment,e),n=!0)},o(e){(0,s.et)(t.$$.fragment,e),n=!1},d(e){(0,s.vp)(t,e)}}}function we(e){let t,n,o,r,a,u,g,p,$,h,v,b,w,T,y,L,k,R,I,C,x,j,G,D,U,M,F;function S(t){e[22](t)}let O={};return void 0!==e[1]&&(O.value=e[1]),h=new d.Z({props:O}),s.Vn.push((()=>(0,s.ak)(h,"value",S))),w=new f.Z({props:{gameId:"t3-k9s5th8thueeuso1rkilqw",roomType:"T3Room",joinData:{name:e[1]},onJoinedRoom:e[23],formatGameMode:e[18],roomCreateOptions:_}}),y=new m.Z({props:{inGame:e[2],isActive:e[3],canReady:1===e[4],isReady:e[5],onSetActive:e[24],onSetReady:e[25],onReset:e[26],onDisconnect:e[27],$$slots:{default:[ve]},$$scope:{ctx:e}}}),I=new l.Z({props:{canClear:!e[6].length,onClear:e[28],$$slots:{default:[be]},$$scope:{ctx:e}}}),x=new c.Z({props:{players:e[7],columns:[["Streak",Te],["Score",ye],["Win",Le],["Loss",ke],["Ties",Re]]}}),D=new i.Z({props:{chatState:e[8],onInput:e[29]}}),{c(){t=(0,s.bG)("div"),n=(0,s.bG)("span"),n.textContent="Isomorphism",o=(0,s.Dh)(),r=(0,s.bG)("button"),r.textContent="Tic-Tac-Toe",a=(0,s.Dh)(),u=(0,s.bG)("button"),u.textContent="Pick15",g=(0,s.Dh)(),p=(0,s.bG)("button"),p.textContent="Words",$=(0,s.Dh)(),(0,s.YC)(h.$$.fragment),b=(0,s.Dh)(),(0,s.YC)(w.$$.fragment),T=(0,s.Dh)(),(0,s.YC)(y.$$.fragment),L=(0,s.Dh)(),k=(0,s.bG)("div"),R=(0,s.bG)("div"),(0,s.YC)(I.$$.fragment),C=(0,s.Dh)(),(0,s.YC)(x.$$.fragment),j=(0,s.Dh)(),G=(0,s.bG)("div"),(0,s.YC)(D.$$.fragment),(0,s.Lj)(n,"class","input-group-text"),(0,s.Lj)(r,"class","w-100 btn btn-outline-secondary"),(0,s.VH)(r,"active",!e[0]),(0,s.Lj)(u,"class","w-50 btn btn-outline-secondary"),(0,s.VH)(u,"active",1===e[0]),(0,s.Lj)(p,"class","w-50 btn btn-outline-secondary"),(0,s.VH)(p,"active",2===e[0]),(0,s.Lj)(t,"class","btn-group d-flex mb-3"),(0,s.Lj)(t,"role","group"),(0,s.Lj)(R,"class","col-12 col-xl-8"),(0,s.Lj)(G,"class","col-12 col-xl-4 mb-3"),(0,s.Lj)(k,"class","row")},m(i,l){(0,s.$T)(i,t,l),(0,s.R3)(t,n),(0,s.R3)(t,o),(0,s.R3)(t,r),(0,s.R3)(t,a),(0,s.R3)(t,u),(0,s.R3)(t,g),(0,s.R3)(t,p),(0,s.$T)(i,$,l),(0,s.ye)(h,i,l),(0,s.$T)(i,b,l),(0,s.ye)(w,i,l),(0,s.$T)(i,T,l),(0,s.ye)(y,i,l),(0,s.$T)(i,L,l),(0,s.$T)(i,k,l),(0,s.R3)(k,R),(0,s.ye)(I,R,null),(0,s.R3)(R,C),(0,s.ye)(x,R,null),(0,s.R3)(k,j),(0,s.R3)(k,G),(0,s.ye)(D,G,null),U=!0,M||(F=[(0,s.oL)(r,"click",e[19]),(0,s.oL)(u,"click",e[20]),(0,s.oL)(p,"click",e[21])],M=!0)},p(e,[t]){1&t&&(0,s.VH)(r,"active",!e[0]),1&t&&(0,s.VH)(u,"active",1===e[0]),1&t&&(0,s.VH)(p,"active",2===e[0]);const n={};!v&&2&t&&(v=!0,n.value=e[1],(0,s.hj)((()=>v=!1))),h.$set(n);const o={};2&t&&(o.joinData={name:e[1]}),2&t&&(o.onJoinedRoom=e[23]),w.$set(o);const a={};4&t&&(a.inGame=e[2]),8&t&&(a.isActive=e[3]),16&t&&(a.canReady=1===e[4]),32&t&&(a.isReady=e[5]),1073741825&t&&(a.$$scope={dirty:t,ctx:e}),y.$set(a);const i={};64&t&&(i.canClear=!e[6].length),1073741888&t&&(i.$$scope={dirty:t,ctx:e}),I.$set(i);const l={};128&t&&(l.players=e[7]),x.$set(l)},i(e){U||((0,s.Ui)(h.$$.fragment,e),(0,s.Ui)(w.$$.fragment,e),(0,s.Ui)(y.$$.fragment,e),(0,s.Ui)(I.$$.fragment,e),(0,s.Ui)(x.$$.fragment,e),(0,s.Ui)(D.$$.fragment,e),U=!0)},o(e){(0,s.et)(h.$$.fragment,e),(0,s.et)(w.$$.fragment,e),(0,s.et)(y.$$.fragment,e),(0,s.et)(I.$$.fragment,e),(0,s.et)(x.$$.fragment,e),(0,s.et)(D.$$.fragment,e),U=!1},d(e){e&&(0,s.og)(t),e&&(0,s.og)($),(0,s.vp)(h,e),e&&(0,s.og)(b),(0,s.vp)(w,e),e&&(0,s.og)(T),(0,s.vp)(y,e),e&&(0,s.og)(L),e&&(0,s.og)(k),(0,s.vp)(I),(0,s.vp)(x),(0,s.vp)(D),M=!1,(0,s.j7)(F)}}}const Te=e=>e.streak,ye=e=>e.score,Le=e=>e.wins,ke=e=>e.loss,Re=e=>e.ties;function Ie(e,t,n){let o,r,i,l,c,d,m,u;const f=new g.Z,p=new R(f),{inGame:$,isActive:h,isReady:v,pastGames:b,clientsSorted:w,roundState:T}=p;(0,s.FI)(e,$,(e=>n(2,i=e))),(0,s.FI)(e,h,(e=>n(3,l=e))),(0,s.FI)(e,v,(e=>n(5,d=e))),(0,s.FI)(e,b,(e=>n(6,m=e))),(0,s.FI)(e,w,(e=>n(7,u=e))),(0,s.FI)(e,T,(e=>n(4,c=e)));let y=(0,a.CR)("game/mp/t3/isomorphism",0);(0,s.FI)(e,y,(e=>n(0,o=e)));let L=(0,a.CR)("game/mp/_shared/name","");return(0,s.FI)(e,L,(e=>n(1,r=e))),[o,r,i,l,c,d,m,u,f,p,$,h,v,b,w,T,y,L,function({optTurnTime:e,optInverted:t,optChecked:n,optQuick:o}){return V("true"===t,"true"===n,"true"===o,+e)},()=>{(0,s.fx)(y,o=0,o)},()=>{(0,s.fx)(y,o=1,o)},()=>{(0,s.fx)(y,o=2,o)},function(e){r=e,L.set(r)},e=>p.enterGame(e,r),e=>p.sendActive(e),e=>p.sendReady(e),()=>p.sendReset(),()=>p.leaveGame(),()=>p.clearHistory(),e=>p.processCommand(e)]}class Ce extends s.f_{constructor(e){super(),(0,s.S1)(this,e,Ie,we,s.N8,{})}}const xe=Ce;(0,n(448).Z)(xe)}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var s=n[e]={exports:{}};return t[e](s,s.exports,o),s.exports}o.m=t,e=[],o.O=(t,n,r,s)=>{if(!n){var a=1/0;for(c=0;c<e.length;c++){for(var[n,r,s]=e[c],i=!0,l=0;l<n.length;l++)(!1&s||a>=s)&&Object.keys(o.O).every((e=>o.O[e](n[l])))?n.splice(l--,1):(i=!1,s<a&&(a=s));i&&(e.splice(c--,1),t=r())}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[n,r,s]},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={21:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,s,[a,i,l]=n,c=0;for(r in i)o.o(i,r)&&(o.m[r]=i[r]);if(l)var d=l(o);for(t&&t(n);c<a.length;c++)s=a[c],o.o(e,s)&&e[s]&&e[s][0](),e[a[c]]=0;return o.O(d)},n=self.webpackChunkvwww=self.webpackChunkvwww||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=o.O(void 0,[85,0,2,5],(()=>o(383)));r=o.O(r)})();