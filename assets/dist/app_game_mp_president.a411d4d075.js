(()=>{"use strict";var e,t={380:(e,t,n)=>{var s,r,o,i,a,l,c,u,d,h,p=n(0),f=n(39),m=n(40),g=n(41),R=n(42),I=n(43),y=n(28),T=n(44),$=n(46),k=n(6),_=n(451),v=n(19);!function(e){e[e.ROUND_WAIT=9]="ROUND_WAIT",e[e.ROUND_INTERM=10]="ROUND_INTERM",e[e.ROUND_START=11]="ROUND_START",e[e.READY=12]="READY",e[e.MOVE_CONFIRM=13]="MOVE_CONFIRM",e[e.END_ROUND=14]="END_ROUND",e[e.END_TURN=15]="END_TURN",e[e.NUM=16]="NUM"}(s||(s={})),function(e){e[e.READY=5]="READY",e[e.MOVE=6]="MOVE",e[e.MOVE_END=7]="MOVE_END",e[e.NUM=8]="NUM"}(r||(r={})),function(e){e[e.WAITING=0]="WAITING",e[e.INTERMISSION=1]="INTERMISSION",e[e.ACTIVE=2]="ACTIVE"}(o||(o={}));class E extends v.R7{constructor(){super(...arguments),this.isReady=(0,k.$_)(!1),this.inRound=(0,k.$_)(!1),this.roundState=(0,k.$_)(0),this.roundTimerStart=(0,k.$_)(0),this.roundTimerEnd=(0,k.$_)(0),this.roundPlayers=(0,k.$_)([]),this.roundPlayerQueue=(0,k.$_)([]),this.INTERMISSION_TIME=3e4,this.ROUND_TIME=2e4}sendReady(e){var t;null===(t=this.room)||void 0===t||t.send((new _.T).putInt(r.READY).putBool(e).toArray())}sendMoveEnd(){var e;null===(e=this.room)||void 0===e||e.send((new _.T).putInt(r.MOVE_END).toArray())}roundWait(){this.roundState.set(o.WAITING),this.unsetReady()}roundIntermission(e){this.roundState.set(o.INTERMISSION),this.setTimer(e),this.unsetReady(),this.isReady.set(!1)}roundStart(e){this.roundState.set(o.ACTIVE),this.setTimer(e),this.unsetReady()}roundSetPlayers(e){this.roundPlayers.set(e)}roundSetPlayerQueue(e){this.roundPlayerQueue.set(e)}setTimer(e){this.roundTimerStart.set(Date.now()),this.roundTimerEnd.set(Date.now()+e)}processWelcomeGame(e){const t=e.getInt();if(0===t)this.roundWait();else if(1===t){this.roundIntermission(e.getInt());for(let t=0;t<=this.clients.size;t++){const t=e.getInt();if(t<0)break;const n=this.clients.get(t);n&&(n.ready=!0)}}else 2===t&&this.roundStart(e.getInt());const n=[];for(let t=0;t<=this.clients.size;t++){const t=e.getInt();if(t<0)break;const s=this.clients.get(t);s&&(s.inRound=!0,n.push(s))}this.roundSetPlayers(n);const s=[];for(let t=0;t<=this.clients.size;t++){const t=e.getInt();if(t<0)break;const n=this.clients.get(t);n&&s.push(n)}this.roundSetPlayerQueue(s),this.processWelcomeGame2(e)}processWelcomeGame2(e){}playerActivated(e){this.roundPlayerQueue.update((t=>[...t,e]))}playerDeactivated(e){this.roundPlayers.update((t=>t.filter((t=>t!==e)))),this.roundPlayerQueue.update((t=>t.filter((t=>t!==e)))),e.inRound=!1,e.isMe&&this.inRound.set(!1)}processMessage2(e,t){var n,r;switch(e){case s.ROUND_WAIT:this.roundWait();break;case s.ROUND_INTERM:this.roundIntermission(this.INTERMISSION_TIME);break;case s.ROUND_START:{const e=[];for(const e of this.clients.values())e.inRound=!1;for(let n=0;n<=this.clients.size;n++){const n=t.getInt();if(n<0)break;const s=this.clients.get(n);s&&(s.inRound=!0,e.push(s))}this.inRound.set(null!==(r=null===(n=this.clients.get(this.myCn))||void 0===n?void 0:n.inRound)&&void 0!==r&&r),this.roundSetPlayers(e),this.roundSetPlayerQueue([]),this.roundStart(this.ROUND_TIME),this.processRoundStart(t);break}case s.READY:{const e=t.getInt(),n=t.getBool(),s=this.clients.get(e);s&&(s.ready=n,e===this.myCn&&this.isReady.set(n),this.updatePlayers(!0),this.roundPlayers.update((e=>e)),this.roundPlayerQueue.update((e=>e)));break}case s.MOVE_CONFIRM:this.processMoveConfirm(t);break;case s.END_TURN:this.processEndTurn(t);break;case s.END_ROUND:this.processEndRound(t);break;default:return this.processMessage3(e,t)}return!0}processRoundStart(e){}processMessage3(e,t){return!1}unsetReady(){for(const e of this.clients.values())e.ready=!1}}E.DEFAULT_PLAYER=Object.assign(Object.assign({},v.R7.DEFAULT_PLAYER),{ready:!1,inRound:!1}),function(e){e[e.PLAYER_ELIMINATE=16]="PLAYER_ELIMINATE",e[e.PLAYER_PRIVATE_INFO=17]="PLAYER_PRIVATE_INFO",e[e.NUM=18]="NUM"}(i||(i={})),function(e){e[e.NUM=8]="NUM"}(a||(a={}));class N extends E{constructor(){super(...arguments),this.playerInfo=(0,k.$_)([]),this.playerDiscInfo=(0,k.$_)([])}getClientFromPlayer(e){return e&&this.clients.get(e.owner)}getNameFromPlayer(e,t){return e?v.R7.formatPlayerName(this.getClientFromPlayer(e),e.owner):`<unknown${void 0===t?"":" pn#"+t}>`}playerIsMe(e){var t;return!!(null===(t=this.getClientFromPlayer(e))||void 0===t?void 0:t.isMe)}getPlayerInfo(e){const t=this.playerInfo.get();return 0<=e&&e<=t.length?t[e]:void 0}updatePlayerInfo(){this.playerInfo.update((e=>e))}processRoundStart(e){const t=[];for(let n=0;n<=this.clients.size;n++){const n=e.getInt();if(n<0)break;const s=this.makePlayerInfo();s.owner=n,t.push(s)}this.playerInfo.set(t),this.playerDiscInfo.set([]),this.processRoundStartInfo(e)}processWelcomeGame2(e){this.processPlayerInfos(e),this.processDiscInfos(e),this.processRoundInfo(e)}processEndTurn(e){var t;this.setTimer(null!==(t=this.processEndTurn2(e))&&void 0!==t?t:this.ROUND_TIME),this.playerInfo.update((e=>{const t=e.shift();return t&&e.push(t),e}))}processMessage3(e,t){var n;switch(e){case i.PLAYER_ELIMINATE:{const e=t.getInt(),s=this.getPlayerInfo(e);if(!s){null===(n=this.room)||void 0===n||n.disconnect();break}const r=this.makeDiscInfo(),o=this.clients.get(s.owner);r.ownerName=v.R7.formatPlayerName(o,s.owner);const i=this.processEliminate(t,r,s);this.playerInfo.update((t=>(t.splice(e,1),t))),i||this.playerDiscInfo.update((e=>[...e,r]));break}case i.PLAYER_PRIVATE_INFO:this.processPrivateInfo(t);break;default:return!1}return!0}processPlayerInfos(e){const t=[];for(let n=0;n<=this.clients.size;n++){const n=e.getInt();if(n<0)break;const s=this.makePlayerInfo();s.owner=n,this.processPlayerInfo(e,s),t.push(s)}this.playerInfo.set(t)}processDiscInfos(e){const t=[];for(let n=0;n<=this.clients.size;n++){const n=e.getString(32);if(!n)break;const s=this.makeDiscInfo();s.ownerName=n,this.processDiscInfo(e,s),t.push(s)}this.playerDiscInfo.set(t)}}N.DEFAULT_PLAYER=E.DEFAULT_PLAYER,N.DEFAULT_PLAYER_INFO={owner:-1},N.DEFAULT_DISC_INFO={ownerName:""};class b extends N{constructor(){super(...arguments),this.modeDeck=(0,k.$_)(0),this.modeJoker=(0,k.$_)(0),this.modeRevolution=(0,k.$_)(0),this.modeRevEndTrick=(0,k.$_)(!1),this.mode1Fewer2=(0,k.$_)(!1),this.modePlayAfterPass=(0,k.$_)(!1),this.modeEqualize=(0,k.$_)(0),this.modeEqualizeEndTrick=(0,k.$_)(0),this.modeEqualizeOnlyScum=(0,k.$_)(!1),this.modeFirstTrick=(0,k.$_)(0),this.mode4inARow=(0,k.$_)(!1),this.mode8=(0,k.$_)(!1),this.modeSingleTurn=(0,k.$_)(!1),this.modePenalizeFinal2=(0,k.$_)(!1),this.modePenalizeFinalJoker=(0,k.$_)(!1),this.gamePhase=(0,k.$_)(0),this.pres=(0,k.$_)(0),this.scum=(0,k.$_)(0),this.vicePres=(0,k.$_)(0),this.viceScum=(0,k.$_)(0),this.lowGive0=(0,k.$_)(0),this.lowGive1=(0,k.$_)(0),this.hiGive0=(0,k.$_)(0),this.hiGive1=(0,k.$_)(0),this.revolution=(0,k.$_)(!1),this.trickCount=(0,k.$_)(0),this.trickValue=(0,k.$_)(0),this.trickMaxed=(0,k.$_)(!1),this.cardCountMine=(0,k.$_)([0,0,0,0,0,0,0,0,0,0,0,0,0,0]),this.cardCountOthers=(0,k.$_)([0,0,0,0,0,0,0,0,0,0,0,0,0,0]),this.cardCountDiscard=(0,k.$_)([0,0,0,0,0,0,0,0,0,0,0,0,0,0]),this.cardCountTotal=(0,k.$_)([0,0,0,0,0,0,0,0,0,0,0,0,0,0]),this.moveHistory=(0,k.$_)([]),this.pendingMove=(0,k.$_)(0),this.pendingMoveCount=(0,k.$_)(0),this.playersSortProps=[e=>e.score,e=>e.streak,e=>e.rank2p,e=>e.rank1p,e=>e.rank0]}sendMove(e,t){var n;null===(n=this.room)||void 0===n||n.send((new _.T).putInt(r.MOVE).putInt(1).putInt(e).putInt(t).toArray())}sendMoveTransfer(e,t){var n;null===(n=this.room)||void 0===n||n.send((new _.T).putInt(r.MOVE).putInt(0).putInt(e).putInt(t).toArray())}processMoveConfirm(e){this.pendingMove.set(e.getInt()),this.pendingMoveCount.set(e.getInt())}processPrivateInfo(e){switch(e.getInt()){case 0:P(e);break;case 1:e.getInt(),e.getInt()}}processRoundStartInfo(e){if(e.getBool());else{const t=e.getInt(),n=e.getInt(),s=e.getInt(),r=e.getInt();this.pres.set(t),this.scum.set(n),this.vicePres.set(s),this.viceScum.set(r)}}processRoundInfo(e){}processPlayerInfo(e,t){t.handSize=e.getInt(),t.discarded=P(e)}processDiscInfo(e,t){t.discarded=P(e)}processEliminate(e,t,n){const s=e.getBool();return t.discarded=n.discarded,t.hand=P(e),this.clients.get(n.owner),s}processEndTurn2(e){throw new Error("Method not implemented.")}processEndRound(e){}processWelcomeMode(e){this.modeDeck.set((0,$.uZ)(e.getInt(),1,0x97b425ed097b)),this.modeJoker.set((0,$.uZ)(e.getInt(),0,2)),this.modeRevolution.set((0,$.uZ)(e.getInt(),0,l._NUM-1)),this.modeRevEndTrick.set(e.getBool()),this.mode1Fewer2.set(e.getBool()),this.modePlayAfterPass.set(e.getBool()),this.modeEqualize.set((0,$.uZ)(e.getInt(),0,c._NUM-1)),this.modeEqualizeEndTrick.set((0,$.uZ)(e.getInt(),0,d._NUM-1)),this.modeEqualizeOnlyScum.set(e.getBool()),this.modeFirstTrick.set((0,$.uZ)(e.getInt(),0,u._NUM-1)),this.mode4inARow.set(e.getBool()),this.mode8.set(e.getBool()),this.modeSingleTurn.set(e.getBool()),this.modePenalizeFinal2.set(e.getBool()),this.modePenalizeFinalJoker.set(e.getBool())}processWelcomePlayer(e,t){t.score=e.getInt(),t.streak=e.getInt(),t.rank2p=e.getInt(),t.rank1p=e.getInt(),t.rank0=e.getInt(),t.rank1s=e.getInt(),t.rank2s=e.getInt()}playerResetStats(e){e.score=0,e.streak=0,e.rank2p=0,e.rank1p=0,e.rank0=0,e.rank1s=0,e.rank2s=0}makePlayer(){return Object.assign(Object.assign({},N.DEFAULT_PLAYER),{score:0,streak:0,rank2p:0,rank1p:0,rank0:0,rank1s:0,rank2s:0})}makePlayerInfo(){return Object.assign(Object.assign({},N.DEFAULT_PLAYER_INFO),{discarded:[0,0,0,0,0,0,0,0,0,0,0,0,0,0],handSize:0})}makeDiscInfo(){return Object.assign(Object.assign({},N.DEFAULT_DISC_INFO),{discarded:[0,0,0,0,0,0,0,0,0,0,0,0,0,0],hand:[0,0,0,0,0,0,0,0,0,0,0,0,0,0]})}}function P(e){const t=[e.getInt(),e.getInt(),e.getInt(),e.getInt(),e.getInt(),e.getInt(),e.getInt(),e.getInt(),e.getInt(),e.getInt(),e.getInt(),e.getInt(),e.getInt()];return[...t,(0,$.Sm)(t)]}function O(e,t,n){const s=e.slice();return s[5]=t[n],s}function S(e,t,n){const s=e.slice();return s[8]=t[n],s}function w(e){let t;return{c(){t=(0,p.bG)("li"),t.textContent="No past games!",(0,p.Lj)(t,"class","list-group-item")},m(e,n){(0,p.$T)(e,t,n)},d(e){e&&(0,p.og)(t)}}}function D(e){let t,n,s,r,o,i,a=e[8].prevRankType<e[8].newRankType?"➚":"➘",l=e[1](e[8].newRankType)+"",c=e[8].prevRankType&&M(e);return{c(){c&&c.c(),t=(0,p.Dh)(),n=(0,p.fL)(a),s=(0,p.Dh)(),r=(0,p.bG)("span"),o=(0,p.fL)(l),(0,p.Lj)(r,"class",i=e[2](e[8].newRankType))},m(e,i){c&&c.m(e,i),(0,p.$T)(e,t,i),(0,p.$T)(e,n,i),(0,p.$T)(e,s,i),(0,p.$T)(e,r,i),(0,p.R3)(r,o)},p(e,s){e[8].prevRankType?c?c.p(e,s):(c=M(e),c.c(),c.m(t.parentNode,t)):c&&(c.d(1),c=null),1&s&&a!==(a=e[8].prevRankType<e[8].newRankType?"➚":"➘")&&(0,p.rT)(n,a),1&s&&l!==(l=e[1](e[8].newRankType)+"")&&(0,p.rT)(o,l),1&s&&i!==(i=e[2](e[8].newRankType))&&(0,p.Lj)(r,"class",i)},d(e){c&&c.d(e),e&&(0,p.og)(t),e&&(0,p.og)(n),e&&(0,p.og)(s),e&&(0,p.og)(r)}}}function M(e){let t,n=e[1](e[8].prevRankType)+"";return{c(){t=(0,p.fL)(n)},m(e,n){(0,p.$T)(e,t,n)},p(e,s){1&s&&n!==(n=e[1](e[8].prevRankType)+"")&&(0,p.rT)(t,n)},d(e){e&&(0,p.og)(t)}}}function A(e){let t,n,s,r,o,i,a,l=e[8].name+"",c=e[8].cn+"",u=e[8].prevRankType!=e[8].newRankType&&D(e);return{c(){t=(0,p.bG)("span"),n=(0,p.fL)(l),s=(0,p.fL)(" ("),r=(0,p.fL)(c),o=(0,p.fL)(")\n            "),u&&u.c(),i=(0,p.Dh)(),(0,p.Lj)(t,"class",a=e[2](e[8].prevRankType))},m(e,a){(0,p.$T)(e,t,a),(0,p.R3)(t,n),(0,p.R3)(t,s),(0,p.R3)(t,r),(0,p.R3)(t,o),u&&u.m(t,null),(0,p.R3)(t,i)},p(e,s){1&s&&l!==(l=e[8].name+"")&&(0,p.rT)(n,l),1&s&&c!==(c=e[8].cn+"")&&(0,p.rT)(r,c),e[8].prevRankType!=e[8].newRankType?u?u.p(e,s):(u=D(e),u.c(),u.m(t,i)):u&&(u.d(1),u=null),1&s&&a!==(a=e[2](e[8].prevRankType))&&(0,p.Lj)(t,"class",a)},d(e){e&&(0,p.og)(t),u&&u.d()}}}function L(e){let t,n,s,r,o=e[5].players,i=[];for(let t=0;t<o.length;t+=1)i[t]=A(S(e,o,t));return{c(){t=(0,p.bG)("li"),n=(0,p.bG)("div"),s=(0,p.fL)("Ranks:\n        ");for(let e=0;e<i.length;e+=1)i[e].c();r=(0,p.Dh)(),(0,p.Lj)(t,"class","list-group-item")},m(e,o){(0,p.$T)(e,t,o),(0,p.R3)(t,n),(0,p.R3)(n,s);for(let e=0;e<i.length;e+=1)i[e].m(n,null);(0,p.R3)(t,r)},p(e,t){if(7&t){let s;for(o=e[5].players,s=0;s<o.length;s+=1){const r=S(e,o,s);i[s]?i[s].p(r,t):(i[s]=A(r),i[s].c(),i[s].m(n,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=o.length}},d(e){e&&(0,p.og)(t),(0,p.RM)(i,e)}}}function C(e){let t,n=e[0],s=[];for(let t=0;t<n.length;t+=1)s[t]=L(O(e,n,t));let r=null;return n.length||(r=w()),{c(){t=(0,p.bG)("ul");for(let e=0;e<s.length;e+=1)s[e].c();r&&r.c(),(0,p.Lj)(t,"class","list-group list-group-flush overflow-auto"),(0,p.cz)(t,"max-height","15rem")},m(e,n){(0,p.$T)(e,t,n);for(let e=0;e<s.length;e+=1)s[e].m(t,null);r&&r.m(t,null)},p(e,[o]){if(7&o){let i;for(n=e[0],i=0;i<n.length;i+=1){const r=O(e,n,i);s[i]?s[i].p(r,o):(s[i]=L(r),s[i].c(),s[i].m(t,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length,n.length?r&&(r.d(1),r=null):r||(r=w(),r.c(),r.m(t,null))}},i:p.ZT,o:p.ZT,d(e){e&&(0,p.og)(t),(0,p.RM)(s,e),r&&r.d()}}}function U(e,t,n){let{results:s}=t;const r=[["Scum","danger"],["VS","warning"],["∅","secondary"],["VP","success"],["President","primary"]];return e.$$set=e=>{"results"in e&&n(0,s=e.results)},[s,function(e){return r[e+2][0]},function(e){return`badge bg-${function(e){return r[e+2][1]}(e)}`}]}!function(e){e[e.OFF=0]="OFF",e[e.ON_STRICT=1]="ON_STRICT",e[e.ON_RELAXED=2]="ON_RELAXED",e[e.ON=3]="ON",e[e._NUM=4]="_NUM"}(l||(l={})),function(e){e[e.DISALLOW=0]="DISALLOW",e[e.ALLOW=1]="ALLOW",e[e.CONTINUE_OR_SKIP=2]="CONTINUE_OR_SKIP",e[e.CONTINUE_OR_PASS=3]="CONTINUE_OR_PASS",e[e.FORCE_SKIP=4]="FORCE_SKIP",e[e._NUM=5]="_NUM"}(c||(c={})),function(e){e[e.SCUM=0]="SCUM",e[e.PRESIDENT=1]="PRESIDENT",e[e.RANDOM=2]="RANDOM",e[e._NUM=3]="_NUM"}(u||(u={})),function(e){e[e.OFF=0]="OFF",e[e.SCUM=1]="SCUM",e[e.ANY=2]="ANY",e[e._NUM=3]="_NUM"}(d||(d={})),function(e){e[e.GIVE_CARDS=0]="GIVE_CARDS",e[e.NEW_TRICK=1]="NEW_TRICK",e[e.IN_TRICK=2]="IN_TRICK"}(h||(h={}));class F extends p.f_{constructor(e){super(),(0,p.S1)(this,e,U,C,p.N8,{results:0})}}const G=F;function j(e,t,n){const s=e.slice();return s[2]=t[n],s}function x(e,t,n){const s=e.slice();return s[5]=t[n],s}function z(e,t,n){const s=e.slice();return s[8]=t[n],s}function Y(e){let t,n,s=e[8]+"";return{c(){t=(0,p.bG)("th"),n=(0,p.fL)(s),(0,p.Lj)(t,"scope","col")},m(e,s){(0,p.$T)(e,t,s),(0,p.R3)(t,n)},p(e,t){1&t&&s!==(s=e[8]+"")&&(0,p.rT)(n,s)},d(e){e&&(0,p.og)(t)}}}function V(e){let t,n,s=e[5]+"";return{c(){t=(0,p.bG)("td"),n=(0,p.fL)(s)},m(e,s){(0,p.$T)(e,t,s),(0,p.R3)(t,n)},p(e,t){2&t&&s!==(s=e[5]+"")&&(0,p.rT)(n,s)},d(e){e&&(0,p.og)(t)}}}function W(e){let t,n,s,r,o,i=e[2][0]+"",a=e[2][1],l=[];for(let t=0;t<a.length;t+=1)l[t]=V(x(e,a,t));return{c(){t=(0,p.bG)("tr"),n=(0,p.bG)("th"),s=(0,p.fL)(i),r=(0,p.Dh)();for(let e=0;e<l.length;e+=1)l[e].c();o=(0,p.Dh)(),(0,p.Lj)(n,"scope","row")},m(e,i){(0,p.$T)(e,t,i),(0,p.R3)(t,n),(0,p.R3)(n,s),(0,p.R3)(t,r);for(let e=0;e<l.length;e+=1)l[e].m(t,null);(0,p.R3)(t,o)},p(e,n){if(2&n&&i!==(i=e[2][0]+"")&&(0,p.rT)(s,i),2&n){let s;for(a=e[2][1],s=0;s<a.length;s+=1){const r=x(e,a,s);l[s]?l[s].p(r,n):(l[s]=V(r),l[s].c(),l[s].m(t,o))}for(;s<l.length;s+=1)l[s].d(1);l.length=a.length}},d(e){e&&(0,p.og)(t),(0,p.RM)(l,e)}}}function Z(e){let t,n,s,r,o,i,a,l,c=e[0],u=[];for(let t=0;t<c.length;t+=1)u[t]=Y(z(e,c,t));let d=e[1],h=[];for(let t=0;t<d.length;t+=1)h[t]=W(j(e,d,t));return{c(){t=(0,p.bG)("div"),n=(0,p.bG)("table"),s=(0,p.bG)("thead"),r=(0,p.bG)("tr"),o=(0,p.bG)("th"),i=(0,p.Dh)();for(let e=0;e<u.length;e+=1)u[e].c();a=(0,p.Dh)(),l=(0,p.bG)("tbody");for(let e=0;e<h.length;e+=1)h[e].c();(0,p.Lj)(n,"class","table table-sm"),(0,p.Lj)(t,"class","table-responsive")},m(e,c){(0,p.$T)(e,t,c),(0,p.R3)(t,n),(0,p.R3)(n,s),(0,p.R3)(s,r),(0,p.R3)(r,o),(0,p.R3)(r,i);for(let e=0;e<u.length;e+=1)u[e].m(r,null);(0,p.R3)(n,a),(0,p.R3)(n,l);for(let e=0;e<h.length;e+=1)h[e].m(l,null)},p(e,[t]){if(1&t){let n;for(c=e[0],n=0;n<c.length;n+=1){const s=z(e,c,n);u[n]?u[n].p(s,t):(u[n]=Y(s),u[n].c(),u[n].m(r,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=c.length}if(2&t){let n;for(d=e[1],n=0;n<d.length;n+=1){const s=j(e,d,n);h[n]?h[n].p(s,t):(h[n]=W(s),h[n].c(),h[n].m(l,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=d.length}},i:p.ZT,o:p.ZT,d(e){e&&(0,p.og)(t),(0,p.RM)(u,e),(0,p.RM)(h,e)}}}function q(e,t,n){let{ranks:s}=t,{counts:r}=t;return e.$$set=e=>{"ranks"in e&&n(0,s=e.ranks),"counts"in e&&n(1,r=e.counts)},[s,r]}class B extends p.f_{constructor(e){super(),(0,p.S1)(this,e,q,Z,p.N8,{ranks:0,counts:1})}}const J=B;function K(e){let t,n,s,r,o,i,a,l,c,u;function d(e,t){return 1===e[1]?X:H}let h=d(e),f=h(e);return{c(){f.c(),t=(0,p.Dh)(),n=(0,p.bG)("div"),s=(0,p.bG)("button"),s.textContent="Confirm",r=(0,p.Dh)(),o=(0,p.bG)("button"),o.textContent="Random",i=(0,p.Dh)(),a=(0,p.bG)("button"),a.textContent="Pass",(0,p.Lj)(s,"class","btn w-100 btn-primary"),(0,p.Lj)(o,"class","btn w-50 btn-outline-secondary"),(0,p.Lj)(a,"class",l="btn w-50 btn-outline-danger"),(0,p.VH)(a,"disabled",!canPass),(0,p.Lj)(n,"class","btn-group d-flex my-2")},m(l,d){f.m(l,d),(0,p.$T)(l,t,d),(0,p.$T)(l,n,d),(0,p.R3)(n,s),(0,p.R3)(n,r),(0,p.R3)(n,o),(0,p.R3)(n,i),(0,p.R3)(n,a),c||(u=[(0,p.oL)(s,"click",(function(){(0,p.sB)(e[0].onConfirm)&&e[0].onConfirm.apply(this,arguments)})),(0,p.oL)(o,"click",(function(){(0,p.sB)(e[0].onRandom)&&e[0].onRandom.apply(this,arguments)})),(0,p.oL)(a,"click",(function(){(0,p.sB)(e[0].onPass)&&e[0].onPass.apply(this,arguments)}))],c=!0)},p(n,s){h!==(h=d(e=n))&&(f.d(1),f=h(e),f&&(f.c(),f.m(t.parentNode,t))),0&s&&(0,p.VH)(a,"disabled",!canPass)},d(e){f.d(e),e&&(0,p.og)(t),e&&(0,p.og)(n),c=!1,(0,p.j7)(u)}}}function Q(e){let t,n;return{c(){t=(0,p.fL)("Scum [pl] gives the two highest cards to President [pl], who must choose two cards to give back.\n  High-Scum [pl] gives the two highest cards to Vice-President [pl], who must choose two cards to give back.\n  \n  You gave [c0] and [c1] to [pl], who will give you back two cards.\n\n  \n  [pl] gave you [c0] and [c1]. Give back two cards:\n  [cards0]\n  [cards1]\n  "),n=(0,p.bG)("button"),n.textContent="Confirm",(0,p.Lj)(n,"class","btn btn-primary d-block w-100")},m(e,s){(0,p.$T)(e,t,s),(0,p.$T)(e,n,s)},p:p.ZT,d(e){e&&(0,p.og)(t),e&&(0,p.og)(n)}}}function H(e){let t;return{c(){t=(0,p.fL)("Move: [buttons]\n    Jokers: [number] [slider]")},m(e,n){(0,p.$T)(e,t,n)},d(e){e&&(0,p.og)(t)}}}function X(e){let t;return{c(){t=(0,p.fL)("Card: [buttons]\n    Cardinality: [number] [slider]\n    Jokers: [number] [slider]")},m(e,n){(0,p.$T)(e,t,n)},d(e){e&&(0,p.og)(t)}}}function ee(e){let t,n,s;function r(e,t){return e[1]?K:Q}let o=r(e),i=o(e);return n=new J({props:{ranks:["*","2","A","K","Q","J","10","9","8","7","6","5","4","3"],counts:[["Yours",[0,0,0,0,0,0,0,0,0,0,0,0,0,0]],["Others",[0,0,0,0,0,0,0,0,0,0,0,0,0,0]],["Played",[0,0,0,0,0,0,0,0,0,0,0,0,0,0]],["Total",[0,0,0,0,0,0,0,0,0,0,0,0,0,0]]]}}),{c(){i.c(),t=(0,p.Dh)(),(0,p.YC)(n.$$.fragment)},m(e,r){i.m(e,r),(0,p.$T)(e,t,r),(0,p.ye)(n,e,r),s=!0},p(e,[n]){o===(o=r(e))&&i?i.p(e,n):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},i(e){s||((0,p.Ui)(n.$$.fragment,e),s=!0)},o(e){(0,p.et)(n.$$.fragment,e),s=!1},d(e){i.d(e),e&&(0,p.og)(t),(0,p.vp)(n,e)}}}function te(e,t,n){let s,{gameState:r}=t;const{gamePhase:o}=r;return(0,p.FI)(e,o,(e=>n(1,s=e))),e.$$set=e=>{"gameState"in e&&n(0,r=e.gameState)},[r,s,o]}class ne extends p.f_{constructor(e){super(),(0,p.S1)(this,e,te,ee,p.N8,{gameState:0})}}const se=ne,re=[["optDecks","i",1,"Decks","number of decks",1,0x97b425ed097b],["optJokers","i",2,"Jokers","number of jokers per deck",0,2],["optRevolution","e",0,"Revolutions","when 4 or more cards of the same value are played at once (and selected condition), rankings are reversed (except jokers) for the round",["off","on, strict (no jokers)","on, relaxed (any 4 are non-joker)","on, jokers (any)"]],["optRevEndTrick","b",!1,"Revolution ends trick","a revolution ends the current trick and starts a new one"],["opt1Fewer2","b",!0,"One fewer 2",""],["optPlayAfterPass","b",!1,"Play after pass","skip instead of pass"],["optEqualize","e",1,"Equalize","",["disallow","allow","equalize or skip","equalize or pass","force skip (next player skips)"]],["optEqualizeEndTrick","e",0,"Equalize End Trick","equalizing lets the next player start a new trick if current player is",["off","scum","all"]],["optEqualizeOnlyScum","b",!1,"Equalize only by scum","only scum can equalize"],["optFirstTrick","e",0,"First Trick","who starts it?",["Scum","President","Random"]],["opt4inARow","b",!1,"4-in-a-row","if 4 or more cards of the same rank are played (possibly by equalizing), next player starts a new trick"],["opt8","b",!1,"8-rule","if 8 is played, current player starts a new trick"],["optSingleTurn","b",!1,"Single turn","treat as passed after playing, player before starter of current trick starts next trick"],["optPenalizeFinal2","b",!1,"Penalize final 2","playing 2 as last card demotes to scum"],["optPenalizeFinalJoker","b",!1,"Penalize final joker","playing joker as last card demotes to scum"]];function oe(e){let t,n;return t=new se({props:{gameState:e[8]}}),{c(){(0,p.YC)(t.$$.fragment)},m(e,s){(0,p.ye)(t,e,s),n=!0},p:p.ZT,i(e){n||((0,p.Ui)(t.$$.fragment,e),n=!0)},o(e){(0,p.et)(t.$$.fragment,e),n=!1},d(e){(0,p.vp)(t,e)}}}function ie(e){let t,n;return t=new G({props:{results:e[5]}}),{c(){(0,p.YC)(t.$$.fragment)},m(e,s){(0,p.ye)(t,e,s),n=!0},p(e,n){const s={};32&n&&(s.results=e[5]),t.$set(s)},i(e){n||((0,p.Ui)(t.$$.fragment,e),n=!0)},o(e){(0,p.et)(t.$$.fragment,e),n=!1},d(e){(0,p.vp)(t,e)}}}function ae(e){let t,n,s,r,o,i,a,l,c,u,d,h,T,$,k,_;function v(t){e[17](t)}let E={};return void 0!==e[0]&&(E.value=e[0]),t=new R.Z({props:E}),p.Vn.push((()=>(0,p.ak)(t,"value",v))),r=new y.Z({props:{gameId:"president-ftmxqwcwukyisw4waewyua",roomType:"PresidentRoom",onJoinedRoom:e[18],formatGameMode:e[16],roomCreateOptions:re}}),i=new I.Z({props:{inGame:e[1],isActive:e[2],canReady:1===e[3],isReady:e[4],onSetActive:e[19],onSetReady:e[20],onReset:e[21],onDisconnect:e[22],$$slots:{default:[oe]},$$scope:{ctx:e}}}),u=new m.Z({props:{canClear:!e[5].length,onClear:e[23],$$slots:{default:[ie]},$$scope:{ctx:e}}}),h=new g.Z({props:{players:e[6],columns:[["Score",le],["Streak",ce],["President",ue],["VP",de],["Neutral",he],["VS",pe],["Scum",fe]]}}),k=new f.Z({props:{chatState:e[7],onInput:e[24]}}),{c(){(0,p.YC)(t.$$.fragment),s=(0,p.Dh)(),(0,p.YC)(r.$$.fragment),o=(0,p.Dh)(),(0,p.YC)(i.$$.fragment),a=(0,p.Dh)(),l=(0,p.bG)("div"),c=(0,p.bG)("div"),(0,p.YC)(u.$$.fragment),d=(0,p.Dh)(),(0,p.YC)(h.$$.fragment),T=(0,p.Dh)(),$=(0,p.bG)("div"),(0,p.YC)(k.$$.fragment),(0,p.Lj)(c,"class","col-12 col-xl-8"),(0,p.Lj)($,"class","col-12 col-xl-4 mb-3"),(0,p.Lj)(l,"class","row")},m(e,n){(0,p.ye)(t,e,n),(0,p.$T)(e,s,n),(0,p.ye)(r,e,n),(0,p.$T)(e,o,n),(0,p.ye)(i,e,n),(0,p.$T)(e,a,n),(0,p.$T)(e,l,n),(0,p.R3)(l,c),(0,p.ye)(u,c,null),(0,p.R3)(c,d),(0,p.ye)(h,c,null),(0,p.R3)(l,T),(0,p.R3)(l,$),(0,p.ye)(k,$,null),_=!0},p(e,[s]){const o={};!n&&1&s&&(n=!0,o.value=e[0],(0,p.hj)((()=>n=!1))),t.$set(o);const a={};1&s&&(a.onJoinedRoom=e[18]),r.$set(a);const l={};2&s&&(l.inGame=e[1]),4&s&&(l.isActive=e[2]),8&s&&(l.canReady=1===e[3]),16&s&&(l.isReady=e[4]),33554432&s&&(l.$$scope={dirty:s,ctx:e}),i.$set(l);const c={};32&s&&(c.canClear=!e[5].length),33554464&s&&(c.$$scope={dirty:s,ctx:e}),u.$set(c);const d={};64&s&&(d.players=e[6]),h.$set(d)},i(e){_||((0,p.Ui)(t.$$.fragment,e),(0,p.Ui)(r.$$.fragment,e),(0,p.Ui)(i.$$.fragment,e),(0,p.Ui)(u.$$.fragment,e),(0,p.Ui)(h.$$.fragment,e),(0,p.Ui)(k.$$.fragment,e),_=!0)},o(e){(0,p.et)(t.$$.fragment,e),(0,p.et)(r.$$.fragment,e),(0,p.et)(i.$$.fragment,e),(0,p.et)(u.$$.fragment,e),(0,p.et)(h.$$.fragment,e),(0,p.et)(k.$$.fragment,e),_=!1},d(e){(0,p.vp)(t,e),e&&(0,p.og)(s),(0,p.vp)(r,e),e&&(0,p.og)(o),(0,p.vp)(i,e),e&&(0,p.og)(a),e&&(0,p.og)(l),(0,p.vp)(u),(0,p.vp)(h),(0,p.vp)(k)}}}const le=e=>e.score,ce=e=>e.streak,ue=e=>e.rank2p,de=e=>e.rank1p,he=e=>e.rank0,pe=e=>e.rank1s,fe=e=>e.rank2s;function me(e,t,n){let s,r,o,i,a,l,c;const u=new T.Z,d=new b(u),{inGame:h,isActive:f,isReady:m,pastGames:g,clientsSorted:R,roundState:I}=d;(0,p.FI)(e,h,(e=>n(1,r=e))),(0,p.FI)(e,f,(e=>n(2,o=e))),(0,p.FI)(e,m,(e=>n(4,a=e))),(0,p.FI)(e,g,(e=>n(5,l=e))),(0,p.FI)(e,R,(e=>n(6,c=e))),(0,p.FI)(e,I,(e=>n(3,i=e)));let y=(0,k.CR)("game/mp/_shared/name","");return(0,p.FI)(e,y,(e=>n(0,s=e))),[s,r,o,i,a,l,c,u,d,h,f,m,g,R,I,y,function({optInverted:e,optAddRandom:t,optTeams:n}){return"TODO"},function(e){s=e,y.set(s)},e=>d.enterGame(e,s),e=>d.sendActive(e),e=>d.sendReady(e),()=>d.sendReset(),()=>d.leaveGame(),()=>d.clearHistory(),e=>d.processCommand(e)]}class ge extends p.f_{constructor(e){super(),(0,p.S1)(this,e,me,ae,p.N8,{})}}const Re=ge;(0,n(448).Z)(Re)},46:(e,t,n)=>{function s(e){return e.reduce(((e,t)=>e+t),0)}function r(e){const t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let n="";for(;e--;)n+=t[Math.random()*t.length|0];return n}function o(e,t,n){return Math.max(t,Math.min(e,n))}n.d(t,{Sm:()=>s,yF:()=>r,uZ:()=>o})}},n={};function s(e){var r=n[e];if(void 0!==r)return r.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,s),o.exports}s.m=t,e=[],s.O=(t,n,r,o)=>{if(!n){var i=1/0;for(c=0;c<e.length;c++){for(var[n,r,o]=e[c],a=!0,l=0;l<n.length;l++)(!1&o||i>=o)&&Object.keys(s.O).every((e=>s.O[e](n[l])))?n.splice(l--,1):(a=!1,o<i&&(i=o));a&&(e.splice(c--,1),t=r())}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[n,r,o]},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={18:0};s.O.j=t=>0===e[t];var t=(t,n)=>{var r,o,[i,a,l]=n,c=0;for(r in a)s.o(a,r)&&(s.m[r]=a[r]);if(l)var u=l(s);for(t&&t(n);c<i.length;c++)o=i[c],s.o(e,o)&&e[o]&&e[o][0](),e[i[c]]=0;return s.O(u)},n=self.webpackChunkvwww=self.webpackChunkvwww||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=s.O(void 0,[3,0,2],(()=>s(380)));r=s.O(r)})();