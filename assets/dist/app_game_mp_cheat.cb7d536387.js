(()=>{"use strict";var t,e={377:(t,e,n)=>{var s,o,r,i,a,l,c=n(0),u=n(39),d=n(40),h=n(41),p=n(42),m=n(43),f=n(28),g=n(44),R=n(46),I=n(6),k=n(451),$=n(19);!function(t){t[t.ROUND_WAIT=9]="ROUND_WAIT",t[t.ROUND_INTERM=10]="ROUND_INTERM",t[t.ROUND_START=11]="ROUND_START",t[t.READY=12]="READY",t[t.MOVE_CONFIRM=13]="MOVE_CONFIRM",t[t.END_ROUND=14]="END_ROUND",t[t.END_TURN=15]="END_TURN",t[t.NUM=16]="NUM"}(s||(s={})),function(t){t[t.READY=5]="READY",t[t.MOVE=6]="MOVE",t[t.MOVE_END=7]="MOVE_END",t[t.NUM=8]="NUM"}(o||(o={})),function(t){t[t.WAITING=0]="WAITING",t[t.INTERMISSION=1]="INTERMISSION",t[t.ACTIVE=2]="ACTIVE"}(r||(r={}));class y extends $.R7{constructor(){super(...arguments),this.isReady=(0,I.$_)(!1),this.inRound=(0,I.$_)(!1),this.roundState=(0,I.$_)(0),this.roundTimerStart=(0,I.$_)(0),this.roundTimerEnd=(0,I.$_)(0),this.roundPlayers=(0,I.$_)([]),this.roundPlayerQueue=(0,I.$_)([]),this.INTERMISSION_TIME=3e4,this.ROUND_TIME=2e4}sendReady(t){var e;null===(e=this.room)||void 0===e||e.send((new k.T).putInt(o.READY).putBool(t).toArray())}sendMoveEnd(){var t;null===(t=this.room)||void 0===t||t.send((new k.T).putInt(o.MOVE_END).toArray())}roundWait(){this.roundState.set(r.WAITING),this.unsetReady()}roundIntermission(t){this.roundState.set(r.INTERMISSION),this.setTimer(t),this.unsetReady(),this.isReady.set(!1)}roundStart(t){this.roundState.set(r.ACTIVE),this.setTimer(t),this.unsetReady()}roundSetPlayers(t){this.roundPlayers.set(t)}roundSetPlayerQueue(t){this.roundPlayerQueue.set(t)}setTimer(t){this.roundTimerStart.set(Date.now()),this.roundTimerEnd.set(Date.now()+t)}processWelcomeGame(t){const e=t.getInt();if(0===e)this.roundWait();else if(1===e){this.roundIntermission(t.getInt());for(let e=0;e<=this.clients.size;e++){const e=t.getInt();if(e<0)break;const n=this.clients.get(e);n&&(n.ready=!0)}}else 2===e&&this.roundStart(t.getInt());const n=[];for(let e=0;e<=this.clients.size;e++){const e=t.getInt();if(e<0)break;const s=this.clients.get(e);s&&(s.inRound=!0,n.push(s))}this.roundSetPlayers(n);const s=[];for(let e=0;e<=this.clients.size;e++){const e=t.getInt();if(e<0)break;const n=this.clients.get(e);n&&s.push(n)}this.roundSetPlayerQueue(s),this.processWelcomeGame2(t)}processWelcomeGame2(t){}playerActivated(t){this.roundPlayerQueue.update((e=>[...e,t]))}playerDeactivated(t){this.roundPlayers.update((e=>e.filter((e=>e!==t)))),this.roundPlayerQueue.update((e=>e.filter((e=>e!==t)))),t.inRound=!1,t.isMe&&this.inRound.set(!1)}processMessage2(t,e){var n,o;switch(t){case s.ROUND_WAIT:this.roundWait();break;case s.ROUND_INTERM:this.roundIntermission(this.INTERMISSION_TIME);break;case s.ROUND_START:{const t=[];for(const t of this.clients.values())t.inRound=!1;for(let n=0;n<=this.clients.size;n++){const n=e.getInt();if(n<0)break;const s=this.clients.get(n);s&&(s.inRound=!0,t.push(s))}this.inRound.set(null!==(o=null===(n=this.clients.get(this.myCn))||void 0===n?void 0:n.inRound)&&void 0!==o&&o),this.roundSetPlayers(t),this.roundSetPlayerQueue([]),this.roundStart(this.ROUND_TIME),this.processRoundStart(e);break}case s.READY:{const t=e.getInt(),n=e.getBool(),s=this.clients.get(t);s&&(s.ready=n,t===this.myCn&&this.isReady.set(n),this.updatePlayers(!0),this.roundPlayers.update((t=>t)),this.roundPlayerQueue.update((t=>t)));break}case s.MOVE_CONFIRM:this.processMoveConfirm(e);break;case s.END_TURN:this.processEndTurn(e);break;case s.END_ROUND:this.processEndRound(e);break;default:return this.processMessage3(t,e)}return!0}processRoundStart(t){}processMessage3(t,e){return!1}unsetReady(){for(const t of this.clients.values())t.ready=!1}}y.DEFAULT_PLAYER=Object.assign(Object.assign({},$.R7.DEFAULT_PLAYER),{ready:!1,inRound:!1}),function(t){t[t.PLAYER_ELIMINATE=16]="PLAYER_ELIMINATE",t[t.PLAYER_PRIVATE_INFO=17]="PLAYER_PRIVATE_INFO",t[t.NUM=18]="NUM"}(i||(i={})),function(t){t[t.NUM=8]="NUM"}(a||(a={}));class T extends y{constructor(){super(...arguments),this.playerInfo=(0,I.$_)([]),this.playerDiscInfo=(0,I.$_)([])}getClientFromPlayer(t){return t&&this.clients.get(t.owner)}getNameFromPlayer(t,e){return t?$.R7.formatPlayerName(this.getClientFromPlayer(t),t.owner):`<unknown${void 0===e?"":" pn#"+e}>`}playerIsMe(t){var e;return!!(null===(e=this.getClientFromPlayer(t))||void 0===e?void 0:e.isMe)}getPlayerInfo(t){const e=this.playerInfo.get();return 0<=t&&t<=e.length?e[t]:void 0}updatePlayerInfo(){this.playerInfo.update((t=>t))}processRoundStart(t){const e=[];for(let n=0;n<=this.clients.size;n++){const n=t.getInt();if(n<0)break;const s=this.makePlayerInfo();s.owner=n,e.push(s)}this.playerInfo.set(e),this.playerDiscInfo.set([]),this.processRoundStartInfo(t)}processWelcomeGame2(t){this.processPlayerInfos(t),this.processDiscInfos(t),this.processRoundInfo(t)}processEndTurn(t){var e;this.setTimer(null!==(e=this.processEndTurn2(t))&&void 0!==e?e:this.ROUND_TIME),this.playerInfo.update((t=>{const e=t.shift();return e&&t.push(e),t}))}processMessage3(t,e){var n;switch(t){case i.PLAYER_ELIMINATE:{const t=e.getInt(),s=this.getPlayerInfo(t);if(!s){null===(n=this.room)||void 0===n||n.disconnect();break}const o=this.makeDiscInfo(),r=this.clients.get(s.owner);o.ownerName=$.R7.formatPlayerName(r,s.owner);const i=this.processEliminate(e,o,s);this.playerInfo.update((e=>(e.splice(t,1),e))),i||this.playerDiscInfo.update((t=>[...t,o]));break}case i.PLAYER_PRIVATE_INFO:this.processPrivateInfo(e);break;default:return!1}return!0}processPlayerInfos(t){const e=[];for(let n=0;n<=this.clients.size;n++){const n=t.getInt();if(n<0)break;const s=this.makePlayerInfo();s.owner=n,this.processPlayerInfo(t,s),e.push(s)}this.playerInfo.set(e)}processDiscInfos(t){const e=[];for(let n=0;n<=this.clients.size;n++){const n=t.getString(32);if(!n)break;const s=this.makeDiscInfo();s.ownerName=n,this.processDiscInfo(t,s),e.push(s)}this.playerDiscInfo.set(e)}}T.DEFAULT_PLAYER=y.DEFAULT_PLAYER,T.DEFAULT_PLAYER_INFO={owner:-1},T.DEFAULT_DISC_INFO={ownerName:""};class w extends T{constructor(){super(...arguments),this.modeDecks=(0,I.$_)(0),this.modeCountSame=(0,I.$_)(!1),this.modeCountMore=(0,I.$_)(!1),this.modeCountLess=(0,I.$_)(!1),this.modeTricks=(0,I.$_)(0),this.modeRank0=(0,I.$_)(!1),this.modeRank1u=(0,I.$_)(!1),this.modeRank1uw=(0,I.$_)(!1),this.modeRank1d=(0,I.$_)(!1),this.modeRank1dw=(0,I.$_)(!1),this.modeRank2u=(0,I.$_)(!1),this.modeRank2uw=(0,I.$_)(!1),this.modeRank2d=(0,I.$_)(!1),this.modeRank2dw=(0,I.$_)(!1),this.modeRankother=(0,I.$_)(!1),this.canCallCheat=(0,I.$_)(!1),this.trickCount=(0,I.$_)(0),this.trickValue=(0,I.$_)(0),this.cardCountHandMine=(0,I.$_)([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),this.cardCountAllMine=(0,I.$_)([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),this.cardCountAllOthers=(0,I.$_)([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),this.cardCountClaimMine=(0,I.$_)([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),this.cardCountClaimOthers=(0,I.$_)([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),this.cardCountClaimRemain=(0,I.$_)([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),this.cardCountTotal=(0,I.$_)([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),this.moveHistory=(0,I.$_)([]),this.pendingMove=(0,I.$_)([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),this.pendingMoveClaim=(0,I.$_)(0),this.playersSortProps=[t=>t.score,t=>t.wins,t=>t.streak]}sendMove(t,e){var n;null===(n=this.room)||void 0===n||n.send((new k.T).putInt(o.MOVE).putInt(0).putInt(t).putInt(e).toArray())}sendMoveCheat(){var t;null===(t=this.room)||void 0===t||t.send((new k.T).putInt(o.MOVE).putInt(1).toArray())}processMoveConfirm(t){this.pendingMove.set(v(t)),this.pendingMoveClaim.set(t.getInt())}processPrivateInfo(t){switch(t.getInt()){case 0:this.cardCountHandMine.set(v(t))}}processRoundStartInfo(t){throw new Error("Method not implemented.")}processRoundInfo(t){const e=v(t),n=v(t),s=[4,4,4,4,4,4,4,4,4,4,4,4,4,2,54];this.cardCountAllOthers.set(e),this.cardCountClaimOthers.set(n),this.cardCountTotal.set(s)}processPlayerInfo(t,e){e.discardClaim=v(t),e.handSize=t.getInt()}processDiscInfo(t,e){e.discardClaim=v(t)}processEliminate(t,e,n){throw new Error("Method not implemented.")}processEndTurn2(t){throw new Error("Method not implemented.")}processEndRound(t){throw new Error("Method not implemented.")}processWelcomeMode(t){this.modeDecks.set((0,R.uZ)(t.getFloat64(),1,0x97b425ed097b)),this.modeCountSame.set(t.getBool()),this.modeCountMore.set(t.getBool()),this.modeCountLess.set(t.getBool()),this.modeTricks.set((0,R.uZ)(t.getInt(),0,l._NUM-1)),this.modeRank0.set(t.getBool()),this.modeRank1u.set(t.getBool()),this.modeRank1uw.set(t.getBool()),this.modeRank1d.set(t.getBool()),this.modeRank1dw.set(t.getBool()),this.modeRank2u.set(t.getBool()),this.modeRank2uw.set(t.getBool()),this.modeRank2d.set(t.getBool()),this.modeRank2dw.set(t.getBool()),this.modeRankother.set(t.getBool())}processWelcomePlayer(t,e){e.score=t.getInt(),e.wins=t.getInt(),e.streak=t.getInt(),e.rankLast=t.getInt(),e.rankBest=t.getInt(),e.rankWorst=t.getInt()}playerResetStats(t){t.score=0,t.wins=0,t.streak=0,t.rankLast=0,t.rankBest=0,t.rankWorst=0}makePlayer(){return Object.assign(Object.assign({},T.DEFAULT_PLAYER),{score:0,wins:0,streak:0,rankLast:0,rankBest:0,rankWorst:0})}makePlayerInfo(){return Object.assign(Object.assign({},T.DEFAULT_PLAYER_INFO),{discardClaim:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],handSize:0})}makeDiscInfo(){return Object.assign(Object.assign({},T.DEFAULT_DISC_INFO),{discardClaim:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]})}}function v(t){const e=t.getInt(),n=t.getInt(),s=t.getInt(),o=t.getInt(),r=t.getInt(),i=t.getInt(),a=t.getInt(),l=t.getInt(),c=t.getInt(),u=t.getInt(),d=t.getInt(),h=t.getInt(),p=t.getInt(),m=t.getInt();return[e,n,s,o,r,i,a,l,c,u,d,h,p,m,e+n+s+o+r+i+a+l+c+u+d+h+p+m]}function _(t,e,n){const s=t.slice();return s[1]=e[n],s}function E(t,e,n){const s=t.slice();return s[4]=e[n],s[6]=n,s}function b(t){let e;return{c(){e=(0,c.bG)("li"),e.textContent="No past games!",(0,c.Lj)(e,"class","list-group-item")},m(t,n){(0,c.$T)(t,e,n)},d(t){t&&(0,c.og)(e)}}}function M(t){let e,n,s,o,r,i,a=t[4].name+"",l=t[4].cn+"";return{c(){e=(0,c.bG)("span"),n=(0,c.fL)(a),s=(0,c.fL)(" ("),o=(0,c.fL)(l),r=(0,c.fL)(")\n          "),(0,c.Lj)(e,"class",i="badge bg-"+(t[6]?"secondary":"primary"))},m(t,i){(0,c.$T)(t,e,i),(0,c.R3)(e,n),(0,c.R3)(e,s),(0,c.R3)(e,o),(0,c.R3)(e,r)},p(t,e){1&e&&a!==(a=t[4].name+"")&&(0,c.rT)(n,a),1&e&&l!==(l=t[4].cn+"")&&(0,c.rT)(o,l)},d(t){t&&(0,c.og)(e)}}}function N(t){let e,n,s,o,r=t[1].players,i=[];for(let e=0;e<r.length;e+=1)i[e]=M(E(t,r,e));return{c(){e=(0,c.bG)("li"),n=(0,c.bG)("div"),s=(0,c.fL)("Ranks:\n        ");for(let t=0;t<i.length;t+=1)i[t].c();o=(0,c.Dh)(),(0,c.Lj)(e,"class","list-group-item")},m(t,r){(0,c.$T)(t,e,r),(0,c.R3)(e,n),(0,c.R3)(n,s);for(let t=0;t<i.length;t+=1)i[t].m(n,null);(0,c.R3)(e,o)},p(t,e){if(1&e){let s;for(r=t[1].players,s=0;s<r.length;s+=1){const o=E(t,r,s);i[s]?i[s].p(o,e):(i[s]=M(o),i[s].c(),i[s].m(n,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=r.length}},d(t){t&&(0,c.og)(e),(0,c.RM)(i,t)}}}function C(t){let e,n=t[0],s=[];for(let e=0;e<n.length;e+=1)s[e]=N(_(t,n,e));let o=null;return n.length||(o=b()),{c(){e=(0,c.bG)("ul");for(let t=0;t<s.length;t+=1)s[t].c();o&&o.c(),(0,c.Lj)(e,"class","list-group list-group-flush overflow-auto"),(0,c.cz)(e,"max-height","15rem")},m(t,n){(0,c.$T)(t,e,n);for(let t=0;t<s.length;t+=1)s[t].m(e,null);o&&o.m(e,null)},p(t,[r]){if(1&r){let i;for(n=t[0],i=0;i<n.length;i+=1){const o=_(t,n,i);s[i]?s[i].p(o,r):(s[i]=N(o),s[i].c(),s[i].m(e,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length,n.length?o&&(o.d(1),o=null):o||(o=b(),o.c(),o.m(e,null))}},i:c.ZT,o:c.ZT,d(t){t&&(0,c.og)(e),(0,c.RM)(s,t),o&&o.d()}}}function D(t,e,n){let{results:s}=e;return t.$$set=t=>{"results"in t&&n(0,s=t.results)},[s]}!function(t){t[t.SKIP=0]="SKIP",t[t.PASS=1]="PASS",t[t.FORCE=2]="FORCE",t[t._NUM=3]="_NUM"}(l||(l={}));class O extends c.f_{constructor(t){super(),(0,c.S1)(this,t,D,C,c.N8,{results:0})}}const A=O;function S(t,e,n){const s=t.slice();return s[2]=e[n],s}function P(t,e,n){const s=t.slice();return s[5]=e[n],s}function L(t,e,n){const s=t.slice();return s[8]=e[n],s}function U(t){let e,n,s=t[8]+"";return{c(){e=(0,c.bG)("th"),n=(0,c.fL)(s),(0,c.Lj)(e,"scope","col")},m(t,s){(0,c.$T)(t,e,s),(0,c.R3)(e,n)},p(t,e){1&e&&s!==(s=t[8]+"")&&(0,c.rT)(n,s)},d(t){t&&(0,c.og)(e)}}}function F(t){let e,n,s=t[5]+"";return{c(){e=(0,c.bG)("td"),n=(0,c.fL)(s)},m(t,s){(0,c.$T)(t,e,s),(0,c.R3)(e,n)},p(t,e){2&e&&s!==(s=t[5]+"")&&(0,c.rT)(n,s)},d(t){t&&(0,c.og)(e)}}}function G(t){let e,n,s,o,r,i=t[2][0]+"",a=t[2][1],l=[];for(let e=0;e<a.length;e+=1)l[e]=F(P(t,a,e));return{c(){e=(0,c.bG)("tr"),n=(0,c.bG)("th"),s=(0,c.fL)(i),o=(0,c.Dh)();for(let t=0;t<l.length;t+=1)l[t].c();r=(0,c.Dh)(),(0,c.Lj)(n,"scope","row")},m(t,i){(0,c.$T)(t,e,i),(0,c.R3)(e,n),(0,c.R3)(n,s),(0,c.R3)(e,o);for(let t=0;t<l.length;t+=1)l[t].m(e,null);(0,c.R3)(e,r)},p(t,n){if(2&n&&i!==(i=t[2][0]+"")&&(0,c.rT)(s,i),2&n){let s;for(a=t[2][1],s=0;s<a.length;s+=1){const o=P(t,a,s);l[s]?l[s].p(o,n):(l[s]=F(o),l[s].c(),l[s].m(e,r))}for(;s<l.length;s+=1)l[s].d(1);l.length=a.length}},d(t){t&&(0,c.og)(e),(0,c.RM)(l,t)}}}function Y(t){let e,n,s,o,r,i,a,l,u=t[0],d=[];for(let e=0;e<u.length;e+=1)d[e]=U(L(t,u,e));let h=t[1],p=[];for(let e=0;e<h.length;e+=1)p[e]=G(S(t,h,e));return{c(){e=(0,c.bG)("div"),n=(0,c.bG)("table"),s=(0,c.bG)("thead"),o=(0,c.bG)("tr"),r=(0,c.bG)("th"),i=(0,c.Dh)();for(let t=0;t<d.length;t+=1)d[t].c();a=(0,c.Dh)(),l=(0,c.bG)("tbody");for(let t=0;t<p.length;t+=1)p[t].c();(0,c.Lj)(n,"class","table table-sm"),(0,c.Lj)(e,"class","table-responsive")},m(t,u){(0,c.$T)(t,e,u),(0,c.R3)(e,n),(0,c.R3)(n,s),(0,c.R3)(s,o),(0,c.R3)(o,r),(0,c.R3)(o,i);for(let t=0;t<d.length;t+=1)d[t].m(o,null);(0,c.R3)(n,a),(0,c.R3)(n,l);for(let t=0;t<p.length;t+=1)p[t].m(l,null)},p(t,[e]){if(1&e){let n;for(u=t[0],n=0;n<u.length;n+=1){const s=L(t,u,n);d[n]?d[n].p(s,e):(d[n]=U(s),d[n].c(),d[n].m(o,null))}for(;n<d.length;n+=1)d[n].d(1);d.length=u.length}if(2&e){let n;for(h=t[1],n=0;n<h.length;n+=1){const s=S(t,h,n);p[n]?p[n].p(s,e):(p[n]=G(s),p[n].c(),p[n].m(l,null))}for(;n<p.length;n+=1)p[n].d(1);p.length=h.length}},i:c.ZT,o:c.ZT,d(t){t&&(0,c.og)(e),(0,c.RM)(d,t),(0,c.RM)(p,t)}}}function j(t,e,n){let{ranks:s}=e,{counts:o}=e;return t.$$set=t=>{"ranks"in t&&n(0,s=t.ranks),"counts"in t&&n(1,o=t.counts)},[s,o]}class x extends c.f_{constructor(t){super(),(0,c.S1)(this,t,j,Y,c.N8,{ranks:0,counts:1})}}const W=x;function B(t){let e,n;return e=new W({props:{ranks:["*","K","Q","J","10","9","8","7","6","5","4","3","2","A"],counts:[["Yours Actual",[0,0,0,0,0,0,0,0,0,0,0,0,0,0]],["Others Actual",[0,0,0,0,0,0,0,0,0,0,0,0,0,0]],["Your Hand",[0,0,0,0,0,0,0,0,0,0,0,0,0,0]],["Your Played",[0,0,0,0,0,0,0,0,0,0,0,0,0,0]],["Your Claim",[0,0,0,0,0,0,0,0,0,0,0,0,0,0]],["Others Claim",[0,0,0,0,0,0,0,0,0,0,0,0,0,0]],["Remaining Claim",[0,0,0,0,0,0,0,0,0,0,0,0,0,0]],["Total",[0,0,0,0,0,0,0,0,0,0,0,0,0,0]]]}}),{c(){(0,c.YC)(e.$$.fragment)},m(t,s){(0,c.ye)(e,t,s),n=!0},p:c.ZT,i(t){n||((0,c.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,c.et)(e.$$.fragment,t),n=!1},d(t){(0,c.vp)(e,t)}}}class V extends c.f_{constructor(t){super(),(0,c.S1)(this,t,null,B,c.N8,{})}}const Z=V,z=[["optDecks","i",1,"Decks","number of decks",1,0x97b425ed097b],["optCountSame","b",!0,"Count (same)","can play same count as previous move"],["optCountMore","b",!0,"Count (more)","can play more cards than previous move"],["optCountLess","b",!0,"Count (less)","can play fewer cards than previous move"],["optTricks","e",0,"Tricks","type of tricks",["skip","pass","forced"]],["optRank0","b",!0,"Trick Rank (same)","can play same rank as previous move"],["optRank1u","b",!0,"Trick Rank (up 1)","previous plus one, when not wrapping"],["optRank1uw","b",!0,"Trick Rank (up 1 wrap)","previous plus one, when wrapping"],["optRank1d","b",!0,"Trick Rank (down 1)","previous minus one, when not wrapping"],["optRank1dw","b",!0,"Trick Rank (down 1 wrap)","previous minus one, when wrapping"],["optRank2u","b",!1,"Trick Rank (up 2)","previous plus two, when not wrapping"],["optRank2uw","b",!1,"Trick Rank (up 2 wrap)","previous plus two, when wrapping"],["optRank2d","b",!1,"Trick Rank (down 2)","previous minus two, when not wrapping"],["optRank2dw","b",!1,"Trick Rank (down 2 wrap)","previous minus two, when wrapping"],["optRankother","b",!1,"Trick Rank (others)","other ranks not covered above"]];function Q(t){let e,n;return e=new Z({props:{gameState:t[8]}}),{c(){(0,c.YC)(e.$$.fragment)},m(t,s){(0,c.ye)(e,t,s),n=!0},p:c.ZT,i(t){n||((0,c.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,c.et)(e.$$.fragment,t),n=!1},d(t){(0,c.vp)(e,t)}}}function H(t){let e,n;return e=new A({props:{results:t[5]}}),{c(){(0,c.YC)(e.$$.fragment)},m(t,s){(0,c.ye)(e,t,s),n=!0},p(t,n){const s={};32&n&&(s.results=t[5]),e.$set(s)},i(t){n||((0,c.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,c.et)(e.$$.fragment,t),n=!1},d(t){(0,c.vp)(e,t)}}}function J(t){let e,n,s,o,r,i,a,l,g,R,I,k,$,y,T,w;function v(e){t[17](e)}let _={};return void 0!==t[0]&&(_.value=t[0]),e=new p.Z({props:_}),c.Vn.push((()=>(0,c.ak)(e,"value",v))),o=new f.Z({props:{gameId:"cheat-zoded3ozqeqvek0bpz3fow",roomType:"CheatRoom",onJoinedRoom:t[18],formatGameMode:t[16],roomCreateOptions:z}}),i=new m.Z({props:{inGame:t[1],isActive:t[2],canReady:1===t[3],isReady:t[4],onSetActive:t[19],onSetReady:t[20],onReset:t[21],onDisconnect:t[22],$$slots:{default:[Q]},$$scope:{ctx:t}}}),R=new d.Z({props:{canClear:!t[5].length,onClear:t[23],$$slots:{default:[H]},$$scope:{ctx:t}}}),k=new h.Z({props:{players:t[6],columns:[["Score",K],["Wins",q],["Streak",X],["Best Rank",tt],["Worst Rank",et],["Last Rank",nt]]}}),T=new u.Z({props:{chatState:t[7],onInput:t[24]}}),{c(){(0,c.YC)(e.$$.fragment),s=(0,c.Dh)(),(0,c.YC)(o.$$.fragment),r=(0,c.Dh)(),(0,c.YC)(i.$$.fragment),a=(0,c.Dh)(),l=(0,c.bG)("div"),g=(0,c.bG)("div"),(0,c.YC)(R.$$.fragment),I=(0,c.Dh)(),(0,c.YC)(k.$$.fragment),$=(0,c.Dh)(),y=(0,c.bG)("div"),(0,c.YC)(T.$$.fragment),(0,c.Lj)(g,"class","col-12 col-xl-8"),(0,c.Lj)(y,"class","col-12 col-xl-4 mb-3"),(0,c.Lj)(l,"class","row")},m(t,n){(0,c.ye)(e,t,n),(0,c.$T)(t,s,n),(0,c.ye)(o,t,n),(0,c.$T)(t,r,n),(0,c.ye)(i,t,n),(0,c.$T)(t,a,n),(0,c.$T)(t,l,n),(0,c.R3)(l,g),(0,c.ye)(R,g,null),(0,c.R3)(g,I),(0,c.ye)(k,g,null),(0,c.R3)(l,$),(0,c.R3)(l,y),(0,c.ye)(T,y,null),w=!0},p(t,[s]){const r={};!n&&1&s&&(n=!0,r.value=t[0],(0,c.hj)((()=>n=!1))),e.$set(r);const a={};1&s&&(a.onJoinedRoom=t[18]),o.$set(a);const l={};2&s&&(l.inGame=t[1]),4&s&&(l.isActive=t[2]),8&s&&(l.canReady=1===t[3]),16&s&&(l.isReady=t[4]),33554432&s&&(l.$$scope={dirty:s,ctx:t}),i.$set(l);const u={};32&s&&(u.canClear=!t[5].length),33554464&s&&(u.$$scope={dirty:s,ctx:t}),R.$set(u);const d={};64&s&&(d.players=t[6]),k.$set(d)},i(t){w||((0,c.Ui)(e.$$.fragment,t),(0,c.Ui)(o.$$.fragment,t),(0,c.Ui)(i.$$.fragment,t),(0,c.Ui)(R.$$.fragment,t),(0,c.Ui)(k.$$.fragment,t),(0,c.Ui)(T.$$.fragment,t),w=!0)},o(t){(0,c.et)(e.$$.fragment,t),(0,c.et)(o.$$.fragment,t),(0,c.et)(i.$$.fragment,t),(0,c.et)(R.$$.fragment,t),(0,c.et)(k.$$.fragment,t),(0,c.et)(T.$$.fragment,t),w=!1},d(t){(0,c.vp)(e,t),t&&(0,c.og)(s),(0,c.vp)(o,t),t&&(0,c.og)(r),(0,c.vp)(i,t),t&&(0,c.og)(a),t&&(0,c.og)(l),(0,c.vp)(R),(0,c.vp)(k),(0,c.vp)(T)}}}const K=t=>t.score,q=t=>t.wins,X=t=>t.streak,tt=t=>t.rankBest,et=t=>t.rankWorst,nt=t=>t.rankLast;function st(t,e,n){let s,o,r,i,a,l,u;const d=new g.Z,h=new w(d),{inGame:p,isActive:m,isReady:f,pastGames:R,clientsSorted:k,roundState:$}=h;(0,c.FI)(t,p,(t=>n(1,o=t))),(0,c.FI)(t,m,(t=>n(2,r=t))),(0,c.FI)(t,f,(t=>n(4,a=t))),(0,c.FI)(t,R,(t=>n(5,l=t))),(0,c.FI)(t,k,(t=>n(6,u=t))),(0,c.FI)(t,$,(t=>n(3,i=t)));let y=(0,I.CR)("game/mp/_shared/name","");return(0,c.FI)(t,y,(t=>n(0,s=t))),[s,o,r,i,a,l,u,d,h,p,m,f,R,k,$,y,function({optCount:t,optRank:e,optRounds:n,optPenalty:s}){return o.decks+(o.countLess?"L":"l")+(o.countSame?"S":"s")+(o.countMore?"M":"m")+o.tricks+(o.rank1uw?"U":"u")+(o.rank2uw?"U":"u")+(o.rank2d?"D":"d")+(o.rank1d?"D":"d")+(o.rank0?"S":"s")+(o.rank1u?"U":"u")+(o.rank2u?"U":"u")+(o.rank2dw?"D":"d")+(o.rank1dw?"D":"d")+(o.rankother?"O":"o");var o},function(t){s=t,y.set(s)},t=>h.enterGame(t,s),t=>h.sendActive(t),t=>h.sendReady(t),()=>h.sendReset(),()=>h.leaveGame(),()=>h.clearHistory(),t=>h.processCommand(t)]}class ot extends c.f_{constructor(t){super(),(0,c.S1)(this,t,st,J,c.N8,{})}}const rt=ot;(0,n(448).Z)(rt)},46:(t,e,n)=>{function s(t){const e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let n="";for(;t--;)n+=e[Math.random()*e.length|0];return n}function o(t,e,n){return Math.max(e,Math.min(t,n))}n.d(e,{yF:()=>s,uZ:()=>o})}},n={};function s(t){var o=n[t];if(void 0!==o)return o.exports;var r=n[t]={exports:{}};return e[t](r,r.exports,s),r.exports}s.m=e,t=[],s.O=(e,n,o,r)=>{if(!n){var i=1/0;for(c=0;c<t.length;c++){for(var[n,o,r]=t[c],a=!0,l=0;l<n.length;l++)(!1&r||i>=r)&&Object.keys(s.O).every((t=>s.O[t](n[l])))?n.splice(l--,1):(a=!1,r<i&&(i=r));a&&(t.splice(c--,1),e=o())}return e}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[n,o,r]},s.d=(t,e)=>{for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={15:0};s.O.j=e=>0===t[e];var e=(e,n)=>{var o,r,[i,a,l]=n,c=0;for(o in a)s.o(a,o)&&(s.m[o]=a[o]);if(l)var u=l(s);for(e&&e(n);c<i.length;c++)r=i[c],s.o(t,r)&&t[r]&&t[r][0](),t[i[c]]=0;return s.O(u)},n=self.webpackChunkvwww=self.webpackChunkvwww||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var o=s.O(void 0,[3,0,2],(()=>s(377)));o=s.O(o)})();